openapi: 3.0.3
info:
  title: PDND Interoperability API
  description: PDND Interoperability API for machine-to-machine interaction with interoperability features
  x-summary: PDND Interoperability API
  version: "3.0.0"
  contact:
    name: API Support
    url: "https://github.com/pagopa/pdnd-interop-frontend/issues"
  termsOfService: "https://selfcare.interop.pagopa.it/ui/it/termini-di-servizio"
servers:
  - url: "https://api.uat.interop.pagopa.it/v3"
    description: UAT environment
security:
  - bearerAuth: []
tags:
  - name: clients
    description: Clients routes
  - name: attributes
    description: Attributes routes
  - name: agreements
    description: Agreements routes
  - name: eservices
    description: E-Services routes
  - name: keys
    description: Keys routes
  - name: purposes
    description: Purposes routes
  - name: tenants
    description: Tenants routes
  - name: delegations
    description: Delegations routes
  - name: eserviceTemplates
    description: E-Service Templates routes
  - name: producerKeychains
    description: Producer Keychains routes
  - name: purposeTemplates
    description: Purpose Templates routes
  - name: health
    description: Verify service status
  - name: events
    description: Events routes
paths:
  /agreements:
    get:
      tags:
        - agreements
      summary: List Agreements
      description: Retrieve a list of Agreements based on filters
      operationId: getAgreements
      parameters:
        - in: query
          name: states
          description: Filter Agreements by states. If not specified, return Agreements in any state
          required: false
          schema:
            type: array
            items:
              $ref: "#/components/schemas/AgreementState"
            default: []
          explode: false
        - in: query
          name: producerIds
          description: Filter Agreements by producer IDs. If not specified, return Agreements for any producer
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: consumerIds
          description: Filter Agreements by consumer IDs. If not specified, return Agreements for any consumer
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: descriptorIds
          description: Filter Agreements by Descriptor IDs. If not specified, return Agreements for any Descriptor
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: eserviceIds
          description: Filter Agreements by E-Service IDs. If not specified, return Agreements for any E-Service
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Agreements retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreements"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - agreements
      summary: Create a new Agreement
      description: Create a new Agreement in Draft state
      operationId: createAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgreementSeed"
        required: true
      responses:
        "201":
          description: Agreement created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - agreements
      summary: Retrieve an Agreement
      description: Retrieve an Agreement
      operationId: getAgreement
      responses:
        "200":
          description: Agreement retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - agreements
      summary: Delete an Agreement
      description: Delete an Agreement in Draft, Pending, or MissingCertifiedAttributes state
      operationId: deleteAgreement
      responses:
        "204":
          description: Agreement deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/purposes:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement to retrieve purposes for
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - agreements
      summary: List Purposes for an Agreement
      description: Retrieve a list of Purposes associated with an Agreement
      operationId: getAgreementPurposes
      parameters:
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
      responses:
        "200":
          description: Purposes retrieved for the Agreement
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purposes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/approve:
    parameters:
      - schema:
          type: string
          format: uuid
        name: agreementId
        description: The ID of the Agreement to approve
        in: path
        required: true
    post:
      tags:
        - agreements
      summary: Approve an Agreement in Pending state
      description: Approve an Agreement that is in Pending state, transitioning it to Active state
      operationId: approveAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Agreement approved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/reject:
    parameters:
      - schema:
          type: string
          format: uuid
        name: agreementId
        description: The ID of the Agreement to reject
        in: path
        required: true
    post:
      tags:
        - agreements
      summary: Reject an Agreement in Pending state
      description: Reject an Agreement that is in Pending state, transitioning it to Rejected state
      operationId: rejectAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgreementRejection"
        required: true
      responses:
        "200":
          description: Agreement rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/submit:
    parameters:
      - schema:
          type: string
          format: uuid
        name: agreementId
        description: The ID of the Agreement to submit
        in: path
        required: true
    post:
      tags:
        - agreements
      summary: Submit an Agreement in Draft state
      description: Submit an Agreement that is in Draft state, transitioning it to Active state if all requirements are satisfied, to Pending otherwise
      operationId: submitAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/AgreementSubmission"
        description: payload for agreement submission
        required: true
      responses:
        "200":
          description: Draft agreement submitted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/suspend:
    parameters:
      - schema:
          type: string
          format: uuid
        name: agreementId
        description: The ID of the Agreement to suspend
        in: path
        required: true
    post:
      tags:
        - agreements
      summary: Suspend an Agreement in Active or Suspended state
      description: |
        Suspend an Agreement that is in Active or Suspended state, transitioning it to Suspended state
        An Agreement may already be in Suspended state when previously suspended by the consumer or the producer
      operationId: suspendAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Active agreement suspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/unsuspend:
    parameters:
      - schema:
          type: string
          format: uuid
        name: agreementId
        description: The ID of the Agreement to unsuspend
        in: path
        required: true
    post:
      tags:
        - agreements
      summary: Unsuspend an Agreement in Suspended state
      description: |
        Unsuspend an Agreement that is in Suspended state, transitioning it to Active or Suspended state
        An Agreement may remain in Suspended state when suspended also by the consumer or the producer
      operationId: unsuspendAgreement
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Agreement unsuspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/upgrade:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement to upgrade
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - agreements
      summary: Upgrade an Agreement
      description: |
        Upgrade the Agreement to a newer E-Service version, if available
        The current Agreement will be archived and a new Agreement will be created, in the same state
      operationId: upgradeAgreement
      responses:
        "200":
          description: Agreement upgraded
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/clone:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement to clone
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - agreements
      summary: Clone an Agreement
      description: |
        Clone a rejected Agreement.
        A new draft Agreement will be created
      operationId: cloneAgreement
      responses:
        "200":
          description: Agreement cloned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/consumerDocuments:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - agreements
      summary: Upload an Agreement Consumer Document
      description: Upload a Consumer Document for the specified Agreement
      operationId: uploadAgreementConsumerDocument
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FileUploadMultipart"
        required: true
      responses:
        "201":
          description: Consumer Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    get:
      tags:
        - agreements
      summary: List Agreement Consumer Documents
      description: Retrieve a list of Consumer Documents for the specified Agreement
      operationId: getAgreementConsumerDocuments
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Consumer Documents retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Documents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/consumerDocuments/{documentId}:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement
        required: true
        schema:
          type: string
          format: uuid
      - name: documentId
        in: path
        description: The ID of the Document to retrieve or delete
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - agreements
      summary: Download an Agreement Consumer Document
      description: Download a specific Consumer Document for the specified Agreement
      operationId: downloadAgreementConsumerDocument
      responses:
        "200":
          description: Consumer Document retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - agreements
      summary: Delete an Agreement Consumer Document
      description: Delete a specific Consumer Document from the specified Agreement
      operationId: deleteAgreementConsumerDocument
      responses:
        "204":
          description: Consumer Document deleted successfully
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreements/{agreementId}/contract:
    parameters:
      - name: agreementId
        in: path
        description: The ID of the Agreement
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - agreements
      summary: Download Agreement Consumer Contract
      description: Download the Consumer Contract for the specified Agreement
      operationId: downloadAgreementConsumerContract
      responses:
        "200":
          description: Consumer contract retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /consumerDelegations:
    get:
      tags:
        - delegations
      summary: List Consumer Delegations
      description: Retrieve a list of Consumer Delegations based on filters
      operationId: getConsumerDelegations
      parameters:
        - in: query
          name: states
          description: Filter Consumer Delegations by states. If not specified, return Consumer Delegations in any state
          required: false
          schema:
            type: array
            items:
              $ref: "#/components/schemas/DelegationState"
            default: []
          explode: false
        - in: query
          name: delegatorIds
          description: Filter Consumer Delegations by delegator IDs. If not specified, return Consumer Delegations for any delegator
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: delegateIds
          description: Filter Consumer Delegations by delegate IDs. If not specified, return Consumer Delegations for any delegate
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: eserviceIds
          description: Filter Consumer Delegations by E-Service IDs. If not specified, return Consumer Delegations for any E-Service
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Consumer Delegations retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegations"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - delegations
      summary: Create a new Consumer Delegation
      description: Create a new Consumer Delegation in Waiting for Approval state
      operationId: createConsumerDelegation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationSeed"
        required: true
      responses:
        "201":
          description: Consumer Delegation created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /consumerDelegations/{delegationId}:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Consumer Delegation to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - delegations
      summary: Retrieve a Consumer Delegation
      description: Retrieve a specific Consumer Delegation by its ID
      operationId: getConsumerDelegation
      responses:
        "200":
          description: Consumer Delegation retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /consumerDelegations/{delegationId}/accept:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Consumer Delegation to accept
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - delegations
      summary: Accept a Consumer Delegation in Waiting for Approval state
      description: Accept a Consumer Delegation that is in Waiting for Approval state, transitioning it to Active state
      operationId: acceptConsumerDelegation
      responses:
        "200":
          description: Consumer Delegation accepted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerDelegations:
    get:
      tags:
        - delegations
      summary: List Producer Delegations
      description: Retrieve a list of Producer Delegations based on filters
      operationId: getProducerDelegations
      parameters:
        - in: query
          name: states
          description: Filter Producer Delegations by states. If not specified, return Producer Delegations in any state
          required: false
          schema:
            type: array
            items:
              $ref: "#/components/schemas/DelegationState"
            default: []
          explode: false
        - in: query
          name: delegatorIds
          description: Filter Producer Delegations by delegator IDs. If not specified, return Producer Delegations for any delegator
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: delegateIds
          description: Filter Producer Delegations by delegate IDs. If not specified, return Producer Delegations for any delegate
          required: false
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: eserviceIds
          description: Filter Producer Delegations by E-Service IDs. If not specified, return Producer Delegations for any E-Service
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Producer Delegations retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegations"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - delegations
      summary: Create a new Producer Delegation
      description: Create a new Producer Delegation in Waiting for Approval state
      operationId: createProducerDelegation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationSeed"
        required: true
      responses:
        "201":
          description: Producer Delegation created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerDelegations/{delegationId}:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Producer Delegation to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - delegations
      summary: Retrieve a Producer Delegation
      description: Retrieve a specific Producer Delegation by its ID
      operationId: getProducerDelegation
      responses:
        "200":
          description: Producer Delegation retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerDelegations/{delegationId}/accept:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Producer Delegation to accept
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - delegations
      summary: Accept a Producer Delegation in Waiting for Approval state
      description: Accept a Producer Delegation that is in Waiting for Approval state, transitioning it to Active state
      operationId: acceptProducerDelegation
      responses:
        "200":
          description: Producer Delegation accepted
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerDelegations/{delegationId}/reject:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Producer Delegation to reject
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - delegations
      summary: Reject a Producer Delegation in Waiting for Approval state
      description: Reject a Producer Delegation that is in Waiting for Approval state, transitioning it to Rejected state
      operationId: rejectProducerDelegation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRejection"
        required: true
        description: Payload for delegation rejection
      responses:
        "200":
          description: Producer Delegation rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /certifiedAttributes:
    get:
      tags:
        - attributes
      summary: List Certified Attributes
      description: Retrieve a list of Certified Attributes
      operationId: getCertifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Certified Attributes retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CertifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - attributes
      summary: Create a certified Attribute
      description: |
        Create a certified Attribute
        The Attribute must
          - have a unique name across all Attributes in the Platform
          - have a unique code across certified Attributes owned by the requester
      operationId: createCertifiedAttribute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CertifiedAttributeSeed"
      responses:
        "201":
          description: Certified Attribute created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CertifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /certifiedAttributes/{attributeId}:
    parameters:
      - name: attributeId
        in: path
        description: The ID of the Attribute to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - attributes
      summary: Retrieve a certified Attribute
      description: Retrieve a certified Attribute
      operationId: getCertifiedAttribute
      responses:
        "200":
          description: Certified attribute retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/CertifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /declaredAttributes/{attributeId}:
    parameters:
      - name: attributeId
        in: path
        description: The ID of the Attribute to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - attributes
      summary: Retrieve a declared Attribute
      description: Retrieve a declared Attribute
      operationId: getDeclaredAttribute
      responses:
        "200":
          description: Declared attribute retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeclaredAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /verifiedAttributes/{attributeId}:
    parameters:
      - name: attributeId
        in: path
        description: The ID of the Attribute to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - attributes
      summary: Retrieve a verified Attribute
      description: Retrieve a verified Attribute
      operationId: getVerifiedAttribute
      responses:
        "200":
          description: Verified attribute retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /verifiedAttributes:
    get:
      tags:
        - attributes
      summary: List Verified Attributes
      description: Retrieve a list of Verified Attributes
      operationId: getVerifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Verified Attributes retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - attributes
      summary: Create a verified Attribute
      description: |
        Create a verified Attribute
        The Attribute must have a unique name across all Attributes in the Platform
      operationId: createVerifiedAttribute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/VerifiedAttributeSeed"
      responses:
        "201":
          description: Verified Attribute created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/VerifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /declaredAttributes:
    get:
      tags:
        - attributes
      summary: List Declared Attributes
      description: Retrieve a list of Declared Attributes
      operationId: getDeclaredAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Declared Attributes retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeclaredAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - attributes
      summary: Create a declared Attribute
      description: |
        Create a declared Attribute
        The Attribute must have a unique name across all Attributes in the Platform
      operationId: createDeclaredAttribute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DeclaredAttributeSeed"
      responses:
        "201":
          description: Declared Attribute created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/DeclaredAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clients:
    get:
      tags:
        - clients
      summary: List Clients
      description: Retrieve a list of Clients based on filters
      operationId: getClients
      parameters:
        - in: query
          name: name
          description: |
            Filter Clients by name.
            If not specified, return Clients with any name.
            If specified, since client name is visible only to the owner (consumer),
            the response will include only Clients owned by the requester.
          schema:
            type: string
        - name: consumerId
          in: query
          description: |
            Filter Clients by Consumer ID (Client owner).
            If not specified, return Clients for any Consumer.
          schema:
            type: string
            format: uuid
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Clients retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Clients"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clients/{clientId}:
    parameters:
      - name: clientId
        in: path
        description: The ID of the Client to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - clients
      summary: Retrieve a Client
      description: Retrieve a Client by its ID
      operationId: getClient
      responses:
        "200":
          description: Client retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Client"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clients/{clientId}/purposes:
    parameters:
      - name: clientId
        in: path
        description: The ID of the Client
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - clients
      summary: List Purposes linked to a Client
      description: Retrieve a list of Purposes linked to a specific Client
      operationId: getClientPurposes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: List of Purposes linked to the Client
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purposes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - clients
      summary: Link a Client to a Purpose
      description: |
        Link a Client to a Purpose
        The Purpose must be in Active or Suspended state
      operationId: addClientPurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ClientAddPurpose"
        required: true
      responses:
        "204":
          description: Client linked to the Purpose
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clients/{clientId}/purposes/{purposeId}:
    parameters:
      - name: clientId
        in: path
        description: The ID of the Client to unlink the Purpose from
        required: true
        schema:
          type: string
          format: uuid
      - name: purposeId
        in: path
        description: The ID of the Purpose to unlink from the Client
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - clients
      summary: Unlink a Client from a Purpose
      description: Unlink a Client from a Purpose, removing the association between them
      operationId: removeClientPurpose
      responses:
        "204":
          description: Client unlinked from the Purpose
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clients/{clientId}/keys:
    parameters:
      - name: clientId
        in: path
        description: The ID of the Client
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - clients
      summary: List Client Keys
      description: Retrieve a list of keys associated with a Client
      operationId: getClientKeys
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: List of Client Keys
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JWKs"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychains:
    get:
      tags:
        - producerKeychains
      summary: List Producer Keychains
      description: Retrieve a list of Producer Keychains based on filters
      operationId: getProducerKeychains
      parameters:
        - in: query
          name: name
          description: |
            Filter Producer Keychains by name.
            If not specified, return Producer Keychains with any name.
            If specified, since keychain name is visible only to the owner (producer),
            the response will include only Keychains owned by the requester.
          schema:
            type: string
        - name: producerId
          in: query
          description:
            Filter Producer Keychains by Producer ID (Producer Keychain owner).
            If not specified, return Producer Keychains for any Producer.
          schema:
            type: string
            format: uuid
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Producer Keychains retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerKeychains"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychains/{keychainId}:
    parameters:
      - name: keychainId
        in: path
        description: The ID of the Producer Keychain to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - producerKeychains
      summary: Retrieve a Producer Keychain
      description: Retrieve a Producer Keychain by its ID
      operationId: getProducerKeychain
      responses:
        "200":
          description: Producer Keychain retrieved successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerKeychain"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychains/{keychainId}/eservices:
    parameters:
      - name: keychainId
        in: path
        description: The ID of the Producer Keychain
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - producerKeychains
      summary: List E-Services linked to a Producer Keychain
      description: Retrieve a list of E-Services linked to a specific Producer Keychain
      operationId: getProducerKeychainEServices
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: List of E-Services linked to the Producer Keychain
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServices"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - producerKeychains
      summary: Link an E-Service to a Producer Keychain
      description: |
        Link a Producer Keychain to an E-Service
        You must be the E-Service owner
      operationId: addProducerKeychainEService
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ProducerKeychainAddEService"
        required: true
      responses:
        "204":
          description: Producer Keychain linked to the E-Service
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychains/{keychainId}/eservices/{eserviceId}:
    parameters:
      - name: keychainId
        in: path
        description: The ID of the Producer Keychain to unlink the E-Service from
        required: true
        schema:
          type: string
          format: uuid
      - name: eserviceId
        in: path
        description: The ID of the E-Service to unlink from the Producer Keychain
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - producerKeychains
      summary: Unlink an E-Service from a Producer Keychain
      description: Unlink an E-Service from a Producer Keychain, removing the association between them
      operationId: removeProducerKeychainEService
      responses:
        "204":
          description: E-Service unlinked from the Producer Keychain
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychains/{keychainId}/keys:
    parameters:
      - name: keychainId
        in: path
        description: The ID of the Producer Keychain
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - producerKeychains
      summary: List Producer Keychain Keys
      description: Retrieve a list of keys associated with a Producer Keychain
      operationId: getProducerKeychainKeys
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: List of Producer Keychain Keys
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/JWKs"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /consumerDelegations/{delegationId}/reject:
    parameters:
      - name: delegationId
        in: path
        description: The ID of the Consumer Delegation to reject
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - delegations
      summary: Reject a Consumer Delegation in Waiting for Approval state
      description: Reject a Consumer Delegation that is in Waiting for Approval state, transitioning it to Rejected state
      operationId: rejectConsumerDelegation
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRejection"
        required: true
        description: Payload for delegation rejection
      responses:
        "200":
          description: Consumer Delegation rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegation"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices:
    get:
      tags:
        - eservices
      summary: List E-Services
      description: Retrieve a list of E-Services based on filters
      operationId: getEServices
      parameters:
        - in: query
          name: producerIds
          description: Filter E-Services by producer IDs. If not specified, return E-Services for any producer
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: templateIds
          description: Filter E-Services by template IDs. If not specified, return E-Services for any template, and E-Services without a template
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: name
          description: Filter E-Services by name
          schema:
            type: string
        - in: query
          name: technology
          description: Filter E-Services by technology
          schema:
            $ref: "#/components/schemas/EServiceTechnology"
        - in: query
          name: mode
          description: Filter E-Services by mode
          schema:
            $ref: "#/components/schemas/EServiceMode"
        - in: query
          name: isSignalHubEnabled
          description: Filter E-Services by Signal Hub enabled status
          schema:
            type: boolean
        - in: query
          name: isConsumerDelegable
          description: Filter E-Services by consumer delegable status
          schema:
            type: boolean
        - in: query
          name: isClientAccessDelegable
          description: Filter E-Services by client access delegable status
          schema:
            type: boolean
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Services retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServices"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eservices
      summary: Create a new E-Service
      operationId: createEService
      description: Create a new E-Service in Draft state
      requestBody:
        description: An E-Service seed
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceSeed"
        required: true
      responses:
        "201":
          description: E-Service created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: Retrieve an E-Service
      description: Retrieve an E-Service
      operationId: getEService
      responses:
        "200":
          description: E-Service retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - eservices
      summary: Update a Draft E-Service
      description: Update an E-Service in Draft state
      operationId: updateDraftEService
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceDraftUpdateSeed"
        required: true
      responses:
        "200":
          description: Draft E-Service updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eservices
      summary: Delete an E-Service
      operationId: deleteEService
      description: Delete an E-Service in Draft state
      responses:
        "204":
          description: E-Service deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/delegation:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eservices
      summary: Update the delegation configurations of an E-Service after its publication
      description: Update the delegation configurations of an E-Service in Published, Suspended, or Deprecated state
      operationId: updatePublishedEServiceDelegation
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceDelegationUpdateSeed"
      responses:
        "200":
          description: E-Service delegation configurations updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/description:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eservices
      summary: Update the description of an E-Service after its publication
      description: Update the description of an E-Service in Published, Suspended, or Deprecated state
      operationId: updatePublishedEServiceDescription
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptionUpdateSeed"
      responses:
        "200":
          description: E-Service description updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/name:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eservices
      summary: Update the name of an E-Service after its publication
      description: Update the name of an E-Service in Published, Suspended, or Deprecated state
      operationId: updatePublishedEServiceName
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceNameUpdateSeed"
      responses:
        "200":
          description: E-Service name updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/signalHub:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eservices
      summary: Update the flag to enable Signal Hub for an E-Service after its publication
      description: Update the flag to enable Signal Hub for an E-Service in Published, Suspended, or Deprecated state
      operationId: updatePublishedEServiceSignalHub
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceSignalHubUpdateSeed"
      responses:
        "200":
          description: E-Service Signal Hub flag updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EService"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptors to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: List E-Service Descriptors
      description: Retrieve a list of E-Service Descriptors based on filters
      operationId: getEServiceDescriptors
      parameters:
        - name: state
          in: query
          description: Filter Descriptors by states. If not specified, return Descriptors in any state
          schema:
            $ref: "#/components/schemas/EServiceDescriptorState"
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Descriptors retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptors"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eservices
      summary: Create a new E-Service Descriptor
      operationId: createDescriptor
      description: |
        Create a new E-Service Descriptor.
        This E-Service must not already have a descriptor in a Draft state.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorSeed"
      responses:
        "201":
          description: E-Service Descriptor created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: Retrieve an E-Service Descriptor
      description: Retrieve an E-Service Descriptor
      operationId: getEServiceDescriptor
      responses:
        "200":
          description: E-Service Descriptor retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - eservices
      summary: Update a Draft E-Service Descriptor
      description: Update an E-Service Descriptor in Draft state
      operationId: updateDraftEServiceDescriptor
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorDraftUpdateSeed"
        required: true
      responses:
        "200":
          description: Draft E-Service Descriptor updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor
      operationId: deleteDraftEServiceDescriptor
      description: |
        Delete an E-Service Descriptor in Draft state.
        It is not possible to delete the last remaining Descriptor for an E-Service.
      responses:
        "204":
          description: E-Service Descriptor deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/quotas:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eservices
      summary: Update the quotas of an E-Service Descriptor after its publication
      description: Update the quotas of an E-Service Descriptor in Published, Suspended, or Deprecated state
      operationId: updatePublishedEServiceDescriptorQuotas
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorQuotasUpdateSeed"
      responses:
        "200":
          description: E-Service Descriptor quotas updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/documents:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: List E-Service Descriptor Documents
      description: Retrieve a list of documents for the specified E-Service Descriptor
      operationId: getEServiceDescriptorDocuments
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Descriptor Documents retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Documents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eservices
      summary: Upload an E-Service Descriptor Document
      description: Upload a Document for the specified E-Service Descriptor
      operationId: uploadEServiceDescriptorDocument
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FileUploadMultipart"
        required: true
      responses:
        "201":
          description: Descriptor Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/documents/{documentId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: documentId
        in: path
        description: The ID of the Document to retrieve or delete
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: Download an E-Service Descriptor Document
      description: Download a specific Document for the specified E-Service Descriptor
      operationId: downloadEServiceDescriptorDocument
      responses:
        "200":
          description: E-Service Descriptor Document retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor Document
      description: Delete a specific Document for the specified E-Service Descriptor
      operationId: deleteEServiceDescriptorDocument
      responses:
        "204":
          description: E-Service Descriptor Document deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/interface:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor for which to download the interface
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: Download an E-Service Descriptor interface
      description: Download the interface document of an E-Service Descriptor
      operationId: downloadEServiceDescriptorInterface
      responses:
        "200":
          description: E-Service Descriptor interface retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eservices
      summary: Upload a E-Service Descriptor interface
      description: |
        Upload an interface document for the specified E-Service Descriptor.
        If the Descriptor already has an interface, it should be first deleted before uploading a new one.
        The Descriptor must be in Draft state.
      operationId: uploadEServiceDescriptorInterface
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FileUploadMultipart"
        required: true
      responses:
        "201":
          description: E-Service Descriptor interface uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor interface
      description: |
        Delete the interface document of an E-Service Descriptor.
        The Descriptor must be in Draft state.
      operationId: deleteEServiceDescriptorInterface
      responses:
        "204":
          description: E-Service Descriptor interface deleted successfully
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/suspend:
    post:
      tags:
        - eservices
      summary: Suspend an E-Service Descriptor in Published or Deprecated state
      operationId: suspendDescriptor
      description: Suspend an E-Service Descriptor that is in Published or Deprecated state, transitioning it to Suspended state
      parameters:
        - name: eserviceId
          in: path
          description: The E-Service ID of the Descriptor
          required: true
          schema:
            type: string
            format: uuid
        - name: descriptorId
          in: path
          description: The ID of the Descriptor to suspend
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: E-Service Descriptor suspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/unsuspend:
    post:
      tags:
        - eservices
      summary: Unsuspend an E-Service Descriptor in Suspended state
      description: Unsuspend an E-Service Descriptor that is in Suspended state, transitioning it to Active or Deprecated state
      operationId: unsuspendDescriptor
      parameters:
        - name: eserviceId
          in: path
          description: The E-Service ID of the Descriptor
          required: true
          schema:
            type: string
            format: uuid
        - name: descriptorId
          in: path
          description: The ID of the Descriptor to unsuspend
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: E-Service Descriptor unsuspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/publish:
    post:
      tags:
        - eservices
      summary: Publish an E-Service Descriptor in Draft state
      operationId: publishDescriptor
      description: Publish an E-Service Descriptor that is in Draft state
      parameters:
        - name: eserviceId
          in: path
          description: The E-Service ID of the Descriptor
          required: true
          schema:
            type: string
            format: uuid
        - name: descriptorId
          in: path
          description: The ID of the Descriptor to publish
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: E-Service Descriptor published
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/approve:
    post:
      tags:
        - eservices
      summary: Approve a delegated E-Service Descriptor in Waiting for Approval state
      operationId: approveDelegatedEServiceDescriptor
      description: Approve a delegated E-Service Descriptor that is in Waiting for Approval state
      parameters:
        - name: eserviceId
          in: path
          description: The E-Service ID of the Descriptor
          required: true
          schema:
            type: string
            format: uuid
        - name: descriptorId
          in: path
          description: The ID of the Descriptor to approve
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: E-Service Descriptor approved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/reject:
    post:
      tags:
        - eservices
      summary: Reject a delegated E-Service Descriptor in Waiting for Approval state
      operationId: rejectDelegatedEServiceDescriptor
      description: Reject a delegated E-Service Descriptor that is in Waiting for Approval state
      requestBody:
        description: Payload containing the reason of the rejection
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RejectDelegatedEServiceDescriptorSeed"
        required: true
      parameters:
        - name: eserviceId
          in: path
          description: The E-Service ID of the Descriptor
          required: true
          schema:
            type: string
            format: uuid
        - name: descriptorId
          in: path
          description: The ID of the Descriptor to reject
          required: true
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: E-Service Descriptor rejected
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptor"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/riskAnalyses:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID for which to create a risk analysis
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eservices
      summary: Create a new Risk Analysis
      description: |
        Create a Risk Analysis for an E-Service.
        The E-Service must be in Draft state and in Receive mode.
      operationId: createEServiceRiskAnalysis
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceRiskAnalysisSeed"
      responses:
        "201":
          description: Risk Analysis created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceRiskAnalysis"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    get:
      tags:
        - eservices
      summary: List E-Service Risk Analyses
      description: Retrieve a list of Risk Analyses for a specific E-Service
      operationId: getEServiceRiskAnalyses
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Risk Analyses retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceRiskAnalyses"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/riskAnalyses/{riskAnalysisId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service id
        required: true
        schema:
          type: string
          format: uuid
      - name: riskAnalysisId
        in: path
        description: The Risk Analysis id
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: Retrieve an E-Service Risk Analysis
      description: Retrieve a Risk Analysis for an E-Service
      operationId: getEServiceRiskAnalysis
      responses:
        "200":
          description: E-Service Risk Analysis retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceRiskAnalysis"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Risk Analysis
      description: |
        Delete a Risk Analysis for an E-Service.
        The E-Service must be in Draft state and in Receive mode.
      operationId: deleteEServiceRiskAnalysis
      responses:
        "204":
          description: E-Service Risk Analysis deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/certifiedAttributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: List E-Service Descriptor Certified Attributes
      description: Retrieve a list of E-Service Descriptor Certified Attributes
      operationId: getEServiceDescriptorCertifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Descriptors Certified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorCertifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/declaredAttributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: List E-Service Descriptor Declared Attributes
      description: Retrieve a list of E-Service Descriptor Declared Attributes
      operationId: getEServiceDescriptorDeclaredAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Descriptors Declared Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorDeclaredAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/verifiedAttributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eservices
      summary: List E-Service Descriptor Verified Attributes
      description: Retrieve a list of E-Service Descriptor Verified Attributes
      operationId: getEServiceDescriptorVerifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Descriptors Verified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorVerifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/certifiedAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eservices
      summary: Assign E-Service Descriptor Certified Attributes to a specific Attribute Group
      description: Assign a set of Certified Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor
      operationId: assignEServiceDescriptorCertifiedAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Descriptor Certified Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/declaredAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eservices
      summary: Assign E-Service Descriptor Declared Attributes to a specific Attribute Group
      description: Assign a set of Declared Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor
      operationId: assignEServiceDescriptorDeclaredAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Descriptor Declared Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/verifiedAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eservices
      summary: Assign E-Service Descriptor Verified Attributes to a specific Attribute Group
      description: Assign a set of Verified Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor
      operationId: assignEServiceDescriptorVerifiedAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Descriptor Verified Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/certifiedAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Certified Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor Certified Attribute from a specific Attribute Group
      description: |
        Delete a specific Certified Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceDescriptorCertifiedAttributeFromGroup
      responses:
        "204":
          description: E-Service Descriptor Certified Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/verifiedAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Verified Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor Verified Attribute from a specific Attribute Group
      description: |
        Delete a specific Verified Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceDescriptorVerifiedAttributeFromGroup
      responses:
        "204":
          description: E-Service Descriptor Verified Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/declaredAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Declared Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eservices
      summary: Delete an E-Service Descriptor Declared Attribute from a specific Attribute Group
      description: |
        Delete a specific Declared Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Descriptor.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceDescriptorDeclaredAttributeFromGroup
      responses:
        "204":
          description: E-Service Descriptor Declared Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/certifiedAttributes/groups:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eservices
      summary: Create a Certified Attributes Group for an E-Service Descriptor
      description: Create a new group of Certified Attributes for an E-Service Descriptor in Draft state
      operationId: createEServiceDescriptorCertifiedAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "201":
          description: Certified Attributes Group created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorCertifiedAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/declaredAttributes/groups:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eservices
      summary: Create a Declared Attributes Group for an E-Service Descriptor
      description: Create a new group of Declared Attributes for an E-Service Descriptor in Draft state
      operationId: createEServiceDescriptorDeclaredAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "201":
          description: Declared Attributes Group created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorDeclaredAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eservices/{eserviceId}/descriptors/{descriptorId}/verifiedAttributes/groups:
    parameters:
      - name: eserviceId
        in: path
        description: The E-Service ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
      - name: descriptorId
        in: path
        description: The ID of the Descriptor
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eservices
      summary: Create a Verified Attributes Group for an E-Service Descriptor
      description: Create a new group of Verified Attributes for an E-Service Descriptor in Draft state
      operationId: createEServiceDescriptorVerifiedAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceDescriptorAttributesGroupSeed"
      responses:
        "201":
          description: Verified Attributes Group created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceDescriptorVerifiedAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates:
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Templates
      description: Retrieve a list of E-Service Templates based on filters
      operationId: getEServiceTemplates
      parameters:
        - in: query
          name: name
          description: Filter E-Service Templates by name
          schema:
            type: string
        - in: query
          name: eserviceTemplateIds
          description: Filter E-Service Templates by IDs. If not specified, return E-Service Templates with any ID
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: creatorIds
          description: Filter E-Service Templates by creator IDs. If not specified, return E-Service Templates for any creator
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Templates retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplates"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eserviceTemplates
      summary: Create a new E-Service Template
      operationId: createEServiceTemplate
      description: Create a new E-Service Template
      requestBody:
        description: An E-Service Template seed
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateSeed"
        required: true
      responses:
        "201":
          description: E-Service Template created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template id
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: Retrieve an E-Service Template
      description: Retrieve an E-Service Template
      operationId: getEServiceTemplate
      responses:
        "200":
          description: E-Service Template retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - eserviceTemplates
      summary: Update a Draft E-Service Template
      description: |
        Update an E-Service Template in Draft state.
        The E-Service Template must have a single version, and that version must be in Draft state.
      operationId: updateDraftEServiceTemplate
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateDraftUpdateSeed"
        required: true
      responses:
        "200":
          description: Draft E-Service Template updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template in Draft state
      operationId: deleteEServiceTemplate
      description: Delete an E-Service Template in Draft state
      responses:
        "204":
          description: E-Service Template deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/description:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eserviceTemplates
      summary: Update the description of an E-Service Template after its publication
      description: Update the description of an E-Service Template in Published or Suspended state
      operationId: updatePublishedEServiceTemplateDescription
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateDescriptionUpdateSeed"
      responses:
        "200":
          description: E-Service Template description updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/intendedTarget:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eserviceTemplates
      summary: Update the intended target of an E-Service Template after its publication
      description: Update the intended target of an E-Service Template in Published or Suspended state
      operationId: updatePublishedEServiceTemplateIntendedTarget
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateIntendedTargetUpdateSeed"
      responses:
        "200":
          description: E-Service Template intended target updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/name:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eserviceTemplates
      summary: Update the name of an E-Service Template after its publication
      description: Update the name of an E-Service Template in Published or Suspended state
      operationId: updatePublishedEServiceTemplateName
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateNameUpdateSeed"
      responses:
        "200":
          description: E-Service Template name updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Versions to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Versions
      description: Retrieve a list of E-Service Template Versions based on filters
      operationId: getEServiceTemplateVersions
      parameters:
        - name: state
          in: query
          description: Filter Versions by states. If not specified, return Versions in any state
          schema:
            $ref: "#/components/schemas/EServiceTemplateVersionState"
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Versions retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersions"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eserviceTemplates
      summary: Create a new E-Service Template Version
      description: |
        Create a new E-Service Template Version.
        This E-Service Template must not already have a Version in a Draft state.
      operationId: createEServiceTemplateVersion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionSeed"
        required: true
      responses:
        "201":
          description: E-Service Template Version created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: Retrieve an E-Service Template Version
      description: Retrieve an E-Service Template Version
      operationId: getEServiceTemplateVersion
      responses:
        "200":
          description: E-Service Template Version retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - eserviceTemplates
      summary: Update a Draft E-Service Template Version
      description: Update an E-Service Template Version in Draft state
      operationId: updateDraftEServiceTemplateVersion
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionDraftUpdateSeed"
      responses:
        "200":
          description: Draft E-Service Template Version updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Version
      description: |
        Delete an E-Service Template Version in Draft state
        It is not possible to delete the last remaining Version for a Template.
      operationId: deleteDraftEServiceTemplateVersion
      responses:
        "204":
          description: E-Service Template Version deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/suspend:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version to suspend
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Suspend an E-Service Template Version in Published state
      description: Suspend an E-Service Template Version that is in Published state, transitioning it to Suspended state
      operationId: suspendEServiceTemplateVersion
      responses:
        "200":
          description: E-Service Template Version suspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/unsuspend:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version to unsuspend
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Unsuspend an E-Service Template Version in Suspended state
      description: Unsuspend an E-Service Template Version that is in Suspended state, transitioning it to Published state
      operationId: unsuspendEServiceTemplateVersion
      responses:
        "200":
          description: E-Service Template Version unsuspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/publish:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version to publish
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Publish an E-Service Template Version in Draft state
      description: Publish an E-Service Template Version that is in Draft state, transitioning it to Published state
      operationId: publishEServiceTemplateVersion
      responses:
        "200":
          description: E-Service Template Version published
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/documents:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Version Documents
      description: Retrieve a list of Documents for the specified E-Service Template Version
      operationId: getEServiceTemplateVersionDocuments
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Version Documents retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Documents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - eserviceTemplates
      summary: Upload an E-Service Template Version Document
      description: Upload a Document for the specified E-Service Template Version
      operationId: uploadEServiceTemplateVersionDocument
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/FileUploadMultipart"
        required: true
      responses:
        "201":
          description: Version Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/documents/{documentId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: documentId
        in: path
        description: The ID of the Document to retrieve or delete
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: Download an E-Service Template Version Document
      description: Download a specific Document for the specified E-Service Template Version
      operationId: downloadEServiceTemplateVersionDocument
      responses:
        "200":
          description: E-Service Template Version Document retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Version Document
      description: Delete a specific Document for the specified E-Service Template Version
      operationId: deleteEServiceTemplateVersionDocument
      responses:
        "204":
          description: E-Service Template Version Document deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/riskAnalyses:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID for which to create a risk analysis
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Create a new Risk Analysis
      description: |
        Create a Risk Analysis for an E-Service Template.
        The E-Service Template must be in Draft state and in Receive mode.
      operationId: createEServiceTemplateRiskAnalysis
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateRiskAnalysisSeed"
      responses:
        "201":
          description: Risk Analysis created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateRiskAnalysis"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Risk Analyses
      description: Retrieve a list of Risk Analyses for a specific E-Service Template
      operationId: getEServiceTemplateRiskAnalyses
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Risk Analyses retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateRiskAnalyses"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/riskAnalyses/{riskAnalysisId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template id
        required: true
        schema:
          type: string
          format: uuid
      - name: riskAnalysisId
        in: path
        description: The Risk Analysis id
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: Retrieve an E-Service Template Risk Analysis
      description: Retrieve a Risk Analysis for an E-Service Template
      operationId: getEServiceTemplateRiskAnalysis
      responses:
        "200":
          description: E-Service Risk Analysis retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateRiskAnalysis"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Risk Analysis
      description: |
        Delete a Risk Analysis for an E-Service Template.
        The E-Service Template must be in Draft state and in Receive mode.
      operationId: deleteEServiceTemplateRiskAnalysis
      responses:
        "204":
          description: E-Service Template Risk Analysis deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/quotas:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - eserviceTemplates
      summary: Update the quotas of an E-Service Template Version after its publication
      description: Update the quotas of an E-Service Template Version in Published or Suspended state
      operationId: updatePublishedEServiceTemplateVersionQuotas
      requestBody:
        required: true
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionQuotasUpdateSeed"
      responses:
        "200":
          description: E-Service Template Version quotas updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/certifiedAttributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Version Certified Attributes
      description: Retrieve a list of E-Service Template Version Certified Attributes
      operationId: getEServiceTemplateVersionCertifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Version Certified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionCertifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/declaredAttributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Version Declared Attributes
      description: Retrieve a list of E-Service Template Version Declared Attributes
      operationId: getEServiceTemplateVersionDeclaredAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Version Declared Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionDeclaredAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/verifiedAttributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - eserviceTemplates
      summary: List E-Service Template Version Verified Attributes
      description: Retrieve a list of E-Service Template Version Verified Attributes
      operationId: getEServiceTemplateVersionVerifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: E-Service Template Version Verified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionVerifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/certifiedAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eserviceTemplates
      summary: Assign E-Service Template Version Certified Attribute to a specific Attribute Group
      description: Assign a set of Certified Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version
      operationId: assignEServiceTemplateVersionCertifiedAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Descriptor Certified Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/declaredAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eserviceTemplates
      summary: Assign E-Service Template Version Declared Attributes to a specific Attribute Group
      description: Assign a set of Declared Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version
      operationId: assignEServiceTemplateVersionDeclaredAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Template Version Declared Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/verifiedAttributes/groups/{groupIndex}/attributes:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group of attributes
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
    post:
      tags:
        - eserviceTemplates
      summary: Assign E-Service Template Version Verified Attributes to a specific Attribute Group
      description: Assign a set of Verified Attributes to the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version
      operationId: assignEServiceTemplateVersionVerifiedAttributesToGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "204":
          description: E-Service Template Version Verified Attribute assigned to the Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/certifiedAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Certified Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Certified Attribute from a specific Attribute Group
      description: |
        Delete a specific Certified Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceTemplateVersionCertifiedAttributeFromGroup
      responses:
        "204":
          description: E-Service Template Version Certified Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/verifiedAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Certified Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Verified Attribute from a specific Attribute Group
      description: |
        Delete a specific Verified Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceTemplateVersionVerifiedAttributeFromGroup
      responses:
        "204":
          description: E-Service Template Version Verified Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/declaredAttributes/groups/{groupIndex}/attributes/{attributeId}:
    parameters:
      - name: templateId
        in: path
        description: The ID of the E-Service Template
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the E-Service Template Version
        required: true
        schema:
          type: string
          format: uuid
      - name: groupIndex
        in: path
        description: The index of the group to which the Attribute belongs
        required: true
        schema:
          type: integer
          format: int32
          minimum: 0
      - name: attributeId
        in: path
        description: The ID of the Declared Attribute
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - eserviceTemplates
      summary: Delete an E-Service Template Declared Attribute from a specific Attribute Group
      description: |
        Delete a specific Declared Attribute from the indicated Attribute Group (identified by groupIndex) of an E-Service Template Version.
        If the deleted attribute is the last one in the group, the entire group will be removed.
      operationId: deleteEServiceTemplateVersionDeclaredAttributeFromGroup
      responses:
        "204":
          description: E-Service Template Version Declared Attribute deleted from Attribute Group
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/certifiedAttributes/groups:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Create Certified Attributes Group for E-Service Template Version
      description: Create a new group of Certified Attributes for an E-Service Template Version in Draft state
      operationId: createEServiceTemplateVersionCertifiedAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "201":
          description: Certified Attributes Group created for E-Service Template Version
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionCertifiedAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/declaredAttributes/groups:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Create Declared Attributes Group for E-Service Template Version
      description: Create a new group of Declared Attributes for an E-Service Template Version in Draft state
      operationId: createEServiceTemplateVersionDeclaredAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "201":
          description: Declared Attributes Group created for E-Service Template Version
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionDeclaredAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplates/{templateId}/versions/{versionId}/verifiedAttributes/groups:
    parameters:
      - name: templateId
        in: path
        description: The E-Service Template ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - eserviceTemplates
      summary: Create Verified Attributes Group for E-Service Template Version
      description: Create a new group of Verified Attributes for an E-Service Template Version in Draft state
      operationId: createEServiceTemplateVersionVerifiedAttributesGroup
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/EServiceTemplateVersionAttributesGroupSeed"
      responses:
        "201":
          description: Verified Attributes Group created for E-Service Template Version
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateVersionVerifiedAttributesGroup"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /keys/{kid}:
    get:
      tags:
        - keys
      summary: Retrieve a Key in JWK format
      description: Retrieve the JWK by kid
      operationId: getJWKByKid
      parameters:
        - name: kid
          in: path
          description: The unique identifier of the Key (kid)
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Key retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Key"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeys/{kid}:
    get:
      tags:
        - keys
      summary: Retrieve a Producer Key in JWK format
      description: Retrieve the Producer JWK by kid
      operationId: getProducerJWKByKid
      parameters:
        - name: kid
          in: path
          description: The unique identifier of the Producer Key (kid)
          required: true
          schema:
            type: string
      responses:
        "200":
          description: Producer Key retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerKey"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes:
    post:
      tags:
        - purposes
      summary: Create a new Purpose
      description: Create a new Purpose in Draft state
      operationId: createPurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurposeSeed"
        required: true
      responses:
        "201":
          description: Purpose created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    get:
      tags:
        - purposes
      summary: List Purposes
      description: Retrieve a list of Purposes based on filters
      operationId: getPurposes
      parameters:
        - in: query
          name: eserviceIds
          description: Filter Purposes by E-Service IDs. If not specified, return Purposes for any E-Service
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: title
          description: Filter Purposes by title. If not specified, return Purposes for any title
          schema:
            type: string
        - in: query
          name: consumerIds
          description: Filter Purposes by consumer ids. If not specified, return Purposes for any consumer
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: states
          description: >
            Filter Purposes by states. If not specified, return Purposes for any state.
            If "ARCHIVED" is included in the filter, only Purposes where all
            their versions are in the "ARCHIVED" state will be returned,
            excluding those that have versions in other states.
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PurposeVersionState"
            default: []
          explode: false
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Purposes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purposes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}:
    parameters:
      - name: purposeId
        in: path
        description: The ID of the Purpose to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposes
      summary: Retrieve a Purpose
      description: Retrieve a Purpose
      operationId: getPurpose
      responses:
        "200":
          description: Purpose retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - purposes
      summary: Delete Purpose
      description: Delete Purpose. Only purposes with one version can be deleted. The version must be in Draft or WaitingForApproval state
      operationId: deletePurpose
      responses:
        "204":
          description: Purpose deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - purposes
      summary: Update a Draft Purpose
      description: |
        Update a Purpose in Draft state.
        The Purpose must have a single version, and that version must be in Draft state.
      operationId: updateDraftPurpose
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              oneOf:
                - $ref: "#/components/schemas/PurposeDraftUpdateSeed"
                - $ref: "#/components/schemas/PurposeDraftFromTemplateUpdateSeed"
        required: true
      responses:
        "200":
          description: Purpose updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/versions:
    parameters:
      - name: purposeId
        in: path
        description: The Purpose ID of the Versions to retrieve
        required: true
        schema:
          type: string
    get:
      tags:
        - purposes
      summary: List Purpose Versions
      description: Retrieve a list of Purpose Versions based on filters
      operationId: getPurposeVersions
      parameters:
        - name: state
          in: query
          description: Filter Versions by states. If not specified, return Versions in any state
          schema:
            $ref: "#/components/schemas/PurposeVersionState"
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Purpose Versions retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeVersions"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - purposes
      summary: Create a new Purpose Version
      description: |
        Create a new Purpose Version to update daily calls
        The new Version will be created in Active state if daily calls are under the E-Service threshold, in Waiting for Approval otherwise
      operationId: createPurposeVersion
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurposeVersionSeed"
        required: true
      responses:
        "201":
          description: Purpose Version created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/versions/{versionId}:
    parameters:
      - name: purposeId
        in: path
        description: The Purpose ID of the Version
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the Version to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposes
      summary: Retrieve a Purpose Version
      description: Retrieve a Purpose Version
      operationId: getPurposeVersion
      responses:
        "200":
          description: Purpose Version retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeVersion"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - purposes
      summary: Delete a Purpose Version
      description: Delete a Purpose Version in waiting for approval or draft state
      operationId: deletePurposeVersion
      responses:
        "204":
          description: Purpose Version deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/activate:
    parameters:
      - name: purposeId
        description: The ID of the Purpose to approve
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Activate a Purpose in Draft state
      description: |
        Activate a Purpose that is in Draft states
        The new state will be Active if daily calls are under the E-Service threshold, Waiting for Approval otherwise
      operationId: activateDraftPurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Purpose activated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/archive:
    parameters:
      - name: purposeId
        description: The ID of the Purpose to archive
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Archive a Purpose in Active or Suspended state
      description: |
        Archive a Purpose that is in Active or Suspended state, transitioning it to Archived state
        Existing Waiting for Approval Versions will be deleted
        The Archived state is not reversible
      operationId: archivePurpose
      responses:
        "200":
          description: Purpose archived
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/approve:
    parameters:
      - name: purposeId
        description: The ID of the Purpose to approve
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Approve a Purpose in Waiting for Approval state
      description: Approve a Purpose that is in Waiting for Approval state, transitioning it to Active state
      operationId: approvePurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Purpose approved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/suspend:
    parameters:
      - name: purposeId
        description: The ID of the Purpose to suspend
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Suspend a Purpose in Active or Suspended state
      description: |
        Suspend a Purpose that is in Active or Suspended state, transitioning it to Suspended state
        A Purpose may already be in Suspended state when previously suspended by the consumer or the producer
      operationId: suspendPurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Purpose suspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/unsuspend:
    parameters:
      - name: purposeId
        description: The ID of the Purpose to unsuspend
        in: path
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Unsuspend a Purpose in Suspended state
      description: |
        Unsuspend a Purpose that is in Suspended state, transitioning it to Active or Suspended state
        A Purpose may remain in Suspended state when suspended also by the consumer or the producer
      operationId: unsuspendPurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DelegationRef"
      responses:
        "200":
          description: Purpose unsuspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /reversePurposes:
    post:
      tags:
        - purposes
      summary: Create a new reverse Purpose
      description: Create a new Purpose for an E-Service in receive mode
      operationId: createReversePurpose
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ReversePurposeSeed"
        required: true
      responses:
        "201":
          description: Reverse Purpose created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /reversePurposes/{purposeId}:
    parameters:
      - name: purposeId
        description: The ID of the reverse Purpose
        in: path
        required: true
        schema:
          type: string
          format: uuid
    patch:
      tags:
        - purposes
      summary: Update a Draft reverse Purpose
      description: |
        Update a Purpose in Draft state for an E-Service in receive mode.
        The Purpose must have a single version, and that version must be in Draft state.
      operationId: updateDraftReversePurpose
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/ReversePurposeDraftUpdateSeed"
        required: true
      responses:
        "200":
          description: Purpose updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/versions/{versionId}/riskAnalysisDocument:
    parameters:
      - name: purposeId
        in: path
        description: The ID of the Purpose
        required: true
        schema:
          type: string
          format: uuid
      - name: versionId
        in: path
        description: The ID of the purpose Version to retrieve the document for
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposes
      summary: Download a Purpose Risk Analysis Document
      description: Download the Risk Analysis Document for the specified Purpose version
      operationId: downloadPurposeVersionRiskAnalysisDocument
      responses:
        "200":
          description: Purpose version risk analysis document retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposes/{purposeId}/agreement:
    parameters:
      - name: purposeId
        in: path
        description: The ID of the Purpose to retrieve the agreement for
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposes
      summary: Retrieve a Purpose Agreement
      description: Retrieve the Agreement associated to a Purpose
      operationId: getPurposeAgreement
      responses:
        "200":
          description: Agreement retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Agreement"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants:
    get:
      tags:
        - tenants
      summary: List Tenants
      description: Retrieve a list of Tenants based on filters
      operationId: getTenants
      parameters:
        - in: query
          name: IPACode
          schema:
            type: string
          description: |
            IPA code of the Tenant
            If the Tenant is an AOO, it corresponds to "codice AOO" in IPA
            If the Tenant is an UO, it corresponds to "codice UO" in IPA
            Available only for Tenants listed in IPA
            Mutually exclusive with taxCode
        - in: query
          name: taxCode
          schema:
            type: string
          description: |
            Tax code of the Tenant
            Available only for Tenants not listed in IPA
            Mutually exclusive with IPACode
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Tenants retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tenants"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}:
    parameters:
      - name: tenantId
        in: path
        description: The ID of the Tenant to retrieve
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: Retrieve a Tenant
      description: Retrieve a Tenant
      operationId: getTenant
      responses:
        "200":
          description: Tenant retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Tenant"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/declaredAttributes:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Declared Attributes
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: List Tenant Declared Attributes
      description: Retrieve a list of Declared Attributes assigned to the Tenant
      operationId: getTenantDeclaredAttributes
      parameters:
        - in: query
          name: delegationId
          description: The ID of the Delegation to filter the Declared Attributes
          schema:
            type: string
            format: uuid
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Tenant Declared Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantDeclaredAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - tenants
      summary: Assign a Declared Attribute to a Tenant
      description: Assign a Declared Attribute to a Tenant
      operationId: assignTenantDeclaredAttribute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TenantDeclaredAttributeSeed"
      responses:
        "200":
          description: Declared Attribute assigned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantDeclaredAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/declaredAttributes/{attributeId}:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Declared Attribute
        required: true
        schema:
          type: string
          format: uuid
      - name: attributeId
        in: path
        description: The Declared Attribute ID
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - tenants
      summary: Revoke a Declared Attribute from a Tenant
      description: Revoke a Declared Attribute from a Tenant
      operationId: revokeTenantDeclaredAttribute
      responses:
        "200":
          description: Declared Attribute revoked
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantDeclaredAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/certifiedAttributes:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Certified Attributes
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: List Tenant Certified Attributes
      description: Retrieve a list of Certified Attributes assigned to the Tenant
      operationId: getTenantCertifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Tenant Certified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantCertifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - tenants
      summary: Assign a Certified Attribute to a Tenant
      description: Assign a Certified Attribute to a Tenant
      operationId: assignTenantCertifiedAttribute
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TenantCertifiedAttributeSeed"
        required: true
      responses:
        "200":
          description: Certified Attribute assigned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantCertifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/certifiedAttributes/{attributeId}:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Certified Attribute
        required: true
        schema:
          type: string
          format: uuid
      - name: attributeId
        in: path
        description: The Certified Attribute ID
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - tenants
      summary: Revoke a Certified Attribute from a Tenant
      description: Revoke a Certified Attribute from a Tenant
      operationId: revokeTenantCertifiedAttribute
      responses:
        "200":
          description: Certified Attribute revoked
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantCertifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/verifiedAttributes:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Verified Attributes
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: List Tenant Verified Attributes
      description: Retrieve a list of Verified Attributes assigned to the Tenant
      operationId: getTenantVerifiedAttributes
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Tenant Verified Attributes retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantVerifiedAttributes"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - tenants
      summary: |
        Assign a Verified Attribute to a Tenant with yourself as verifier.
        If the attribute is already assigned, you will be added to the list of verifiers.
      description: Assign a Verified Attribute to a Tenant
      operationId: assignTenantVerifiedAttribute
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/TenantVerifiedAttributeSeed"
      responses:
        "200":
          description: Verified Attribute assigned
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantVerifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/verifiedAttributes/{attributeId}:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID of the Verified Attribute
        required: true
        schema:
          type: string
          format: uuid
      - name: attributeId
        in: path
        description: The Verified Attribute ID
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - tenants
      summary: Revoke a Verified Attribute from a Tenant
      description: |
        Revoke a Verified Attribute from a Tenant.
        You will be added to the list of revokers of the tenant Verified Attribute.
      operationId: revokeTenantVerifiedAttribute
      parameters:
        - in: query
          required: true
          name: agreementId
          description: The ID of the Agreement
          schema:
            type: string
            format: uuid
      responses:
        "200":
          description: Verified Attribute revoked
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantVerifiedAttribute"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          $ref: "#/components/responses/Conflict"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/verifiedAttributes/{attributeId}/verifiers:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID
        required: true
        schema:
          type: string
          format: uuid
      - name: attributeId
        in: path
        description: The Verified Attribute ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: List Tenant Verified Attribute Verifiers
      description: Retrieve a list of Verifiers for a specific Verified Attribute of a Tenant
      operationId: getTenantVerifiedAttributeVerifiers
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Verified Attribute Verifiers retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantVerifiedAttributeVerifiers"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenants/{tenantId}/verifiedAttributes/{attributeId}/revokers:
    parameters:
      - name: tenantId
        in: path
        description: The Tenant ID
        required: true
        schema:
          type: string
          format: uuid
      - name: attributeId
        in: path
        description: The Verified Attribute ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - tenants
      summary: List Tenant Verified Attribute Revokers
      description: Retrieve a list of Revokers for a specific Verified Attribute of a Tenant
      operationId: getTenantVerifiedAttributeRevokers
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Verified Attribute Revokers retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantVerifiedAttributeRevokers"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates:
    get:
      tags:
        - purposeTemplates
      summary: List Purpose Templates
      description: Retrieve a list of Purpose Templates based on filters
      operationId: getPurposeTemplates
      parameters:
        - in: query
          name: purposeTitle
          description: Filter Purpose Templates by title. If not specified, return Purpose Templates for any title.
          schema:
            type: string
        - in: query
          name: creatorIds
          description: Filter Purpose Templates by Creator IDs. If not specified, return Purpose Templates for any Creator.
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: eserviceIds
          description: Filter Purpose Templates by E-Service IDs. If not specified, return Purpose Templates for any E-Service.
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: states
          description: >
            Filter Purpose Templates by states. If not specified, return Purpose Templates for any state.
            Purpose Templates in Draft state are visible only to their creator.
          schema:
            type: array
            items:
              $ref: "#/components/schemas/PurposeTemplateState"
            default: []
          explode: false
        - in: query
          name: targetTenantKind
          description: Filter Purpose Templates by target tenant kind. If not specified, return Purpose Templates for any tenant kind.
          schema:
            $ref: "#/components/schemas/TargetTenantKind"
        - in: query
          name: handlesPersonalData
          description: Filter Purpose Templates by whether they handle personal data. If not specified, return Purpose Templates that both handle and do not handle personal data.
          schema:
            type: boolean
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Purpose Templates retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplates"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - purposeTemplates
      summary: Create a new Purpose Template
      description: Create a new Purpose Template in Draft state
      operationId: createPurposeTemplate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurposeTemplateSeed"
        required: true
      responses:
        "201":
          description: Purpose Template created
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "409":
          description: Name Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposeTemplates
      summary: Retrieve a Purpose Template
      description: Retrieve a Purpose Template
      operationId: getPurposeTemplate
      responses:
        "200":
          description: Purpose Template retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    patch:
      tags:
        - purposeTemplates
      summary: Update a Draft Purpose Template
      description: Update a Purpose Template in Draft state
      operationId: updateDraftPurposeTemplate
      requestBody:
        content:
          application/merge-patch+json:
            schema:
              $ref: "#/components/schemas/PurposeTemplateDraftUpdateSeed"
        required: true
      responses:
        "200":
          description: Draft Purpose Template updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Name Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - purposeTemplates
      summary: Delete a Purpose Template in Draft state
      description: Delete a Purpose Template that is in Draft state
      operationId: deletePurposeTemplate
      responses:
        "204":
          description: Purpose Template deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: The Purpose Template is not in Draft state
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/riskAnalysis:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposeTemplates
      summary: Retrieve the Risk Analysis of a Purpose Template
      description: Retrieve the Risk Analysis of a Purpose Template
      operationId: getPurposeTemplateRiskAnalysis
      responses:
        "200":
          description: Purpose Template Risk Analysis retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RiskAnalysisFormTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    put:
      tags:
        - purposeTemplates
      summary: Replace the Risk Analysis of a Purpose Template
      description: Replace the Risk Analysis of a Purpose Template in Draft state
      operationId: replacePurposeTemplateRiskAnalysis
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RiskAnalysisFormTemplateSeed"
        required: true
      responses:
        "200":
          description: Risk Analysis Form Template updated
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RiskAnalysisFormTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Name Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/riskAnalysis/annotationDocuments:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposeTemplates
      summary: Retrieve a list of Risk Analysis Template Annotation Documents
      description: Retrieve a list of Risk Analysis Template Annotation Documents for the specified Purpose Template
      operationId: getRiskAnalysisTemplateAnnotationDocuments
      parameters:
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Risk Analysis Template Annotation Documents retrieved
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/RiskAnalysisTemplateAnnotationDocuments"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - purposeTemplates
      summary: Upload a Risk Analysis Form Template Answer Annotation Document
      description: Upload a Document for the specified Risk Analysis Form Template Answer Annotation
      operationId: uploadRiskAnalysisTemplateAnswerAnnotationDocument
      requestBody:
        content:
          multipart/form-data:
            schema:
              $ref: "#/components/schemas/RiskAnalysisTemplateAnnotationDocumentUploadMultipart"
        required: true
      responses:
        "201":
          description: Risk Analysis Form Template Answer Annotation Document uploaded successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Document"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/riskAnalysis/annotationDocuments/{documentId}:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: documentId
        in: path
        description: The Document ID of the Answer Annotation
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposeTemplates
      summary: Retrieve the Document of a Risk Analysis Form Template Answer Annotation
      description: Retrieve the Document of a Risk Analysis Form Template Answer Annotation
      operationId: getRiskAnalysisTemplateAnswerAnnotationDocument
      responses:
        "200":
          description: Risk Analysis Form Template Answer Annotation Document retrieved, a multipart containing the file and its metadata
          content:
            multipart/form-data:
              schema:
                $ref: "#/components/schemas/FileDownloadMultipart"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    delete:
      tags:
        - purposeTemplates
      summary: Delete the Document of a Risk Analysis Form Template Answer Annotation
      description: Delete the Document of a Risk Analysis Form Template Answer Annotation
      operationId: deleteRiskAnalysisTemplateAnswerAnnotationDocument
      responses:
        "204":
          description: Risk Analysis Form Template Answer Annotation Document deleted
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/purposes:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    post:
      tags:
        - purposes
      summary: Create a new Purpose from a Purpose Template
      description: Create a new Purpose in Draft state from a Purpose Template
      operationId: createPurposeFromTemplate
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurposeFromTemplateSeed"
        required: true
      responses:
        "201":
          description: Purpose created successfully
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/Purpose"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/eservices:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    get:
      tags:
        - purposeTemplates
      summary: List E-Services linked to a Purpose Template
      description: Retrieve a list of E-Services linked to a specific Purpose Template
      operationId: getPurposeTemplateEServices
      parameters:
        - in: query
          name: producerIds
          description: Filter Purpose Template linked E-Services by E-Service Producer IDs. If not specified, return linked E-Services for any Producer.
          schema:
            type: array
            items:
              type: string
              format: uuid
            default: []
          explode: false
        - in: query
          name: eserviceName
          description: Filter Purpose Template linked E-Services by E-Service name. If not specified, return linked E-Services for any name.
          schema:
            type: string
        - in: query
          name: offset
          description: Pagination starting position
          required: true
          schema:
            type: integer
            format: int32
            minimum: 0
        - in: query
          name: limit
          description: Maximum number of results to return
          required: true
          schema:
            type: integer
            format: int32
            minimum: 1
            maximum: 50
      responses:
        "200":
          description: Purpose Template E-Services retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServices"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
    post:
      tags:
        - purposeTemplates
      summary: Link an E-Service to a Purpose Template
      description: Link an E-Service to a Purpose Template that is in Draft or Active state
      operationId: addPurposeTemplateEService
      requestBody:
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PurposeTemplateLinkEService"
        required: true
      responses:
        "204":
          description: E-Services linked to Purpose Template
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/eservices/{eserviceId}:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
      - name: eserviceId
        in: path
        description: The Eservice ID to unlink
        required: true
        schema:
          type: string
          format: uuid
    delete:
      tags:
        - purposeTemplates
      summary: Unlink an E-Service From Purpose Template
      description: Unlink an E-Service From a Purpose Template that is in Draft or Active state
      operationId: removePurposeTemplateEService
      responses:
        "204":
          description: E-Service unlinked from Purpose Template
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/publish:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    post:
      summary: Publish a Purpose Template in Draft state
      description: Publish a Purpose Template that is in Draft state, transitioning it to Published state
      operationId: publishPurposeTemplate
      tags:
        - purposeTemplates
      responses:
        "200":
          description: Purpose Template published
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/archive:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    post:
      summary: Archive a Purpose Template in Published or Suspended state
      description: Archive a Purpose Template that is in Published or Suspended state, transitioning it to Archived state
      operationId: archivePurposeTemplate
      tags:
        - purposeTemplates
      responses:
        "200":
          description: Purpose Template archived
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/unsuspend:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    post:
      summary: Unsuspend a Purpose Template in Suspended state
      description: Unsuspend a Purpose Template that is in Suspended state, transitioning it to Published state
      operationId: unsuspendPurposeTemplate
      tags:
        - purposeTemplates
      responses:
        "200":
          description: Purpose Template unsuspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeTemplates/{purposeTemplateId}/suspend:
    parameters:
      - name: purposeTemplateId
        in: path
        description: The Purpose Template ID
        required: true
        schema:
          type: string
          format: uuid
    post:
      summary: Suspend a Purpose Template in Published state
      description: Suspend a Purpose Template that is in Published state, transitioning it to Suspended state
      operationId: suspendPurposeTemplate
      tags:
        - purposeTemplates
      responses:
        "200":
          description: Purpose Template suspended
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeTemplate"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "404":
          $ref: "#/components/responses/NotFound"
        "409":
          description: Conflict
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /status:
    get:
      tags:
        - health
      summary: Retrieve the status of the API
      operationId: getStatus
      description: Retrieve the status of the API
      responses:
        "200":
          description: Status retrieved
          content:
            application/problem+json:
              schema:
                $ref: "#/components/schemas/Problem"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceEvents:
    get:
      tags:
        - events
      summary: Get E-Service events
      description: |
        Retrieve list of E-Service events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getEServicesEvents
      parameters:
        - $ref: "#/components/parameters/EventsDelegationId"
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: E-Service events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /agreementEvents:
    get:
      tags:
        - events
      summary: Get Agreement events
      description: |
        Retrieve list of Agreement events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getAgreementsEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
        - $ref: "#/components/parameters/EventsDelegationId"
      responses:
        "200":
          description: Agreement events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AgreementEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /attributeEvents:
    get:
      tags:
        - events
      summary: Get Attribute events
      description: |
        Retrieve list of Attribute events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getAttributesEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Attribute events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/AttributeEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /purposeEvents:
    get:
      tags:
        - events
      summary: Get Purpose events
      description: |
        Retrieve list of Purpose events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getPurposeEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
        - $ref: "#/components/parameters/EventsDelegationId"
      responses:
        "200":
          description: Purpose events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/PurposeEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /tenantEvents:
    get:
      tags:
        - events
      summary: Get Tenant events
      description: |
        Retrieve list of Tenant events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getTenantEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Tenant events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/TenantEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /eserviceTemplateEvents:
    get:
      tags:
        - events
      summary: Get EServiceTemplate events
      description: |
        Retrieve list of EServiceTemplate events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getEServiceTemplateEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: EServiceTemplate events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/EServiceTemplateEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /keyEvents:
    get:
      tags:
        - events
      summary: Get Key events
      description: |
        Retrieve list of Key events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getKeyEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Key events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/KeyEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /clientEvents:
    get:
      tags:
        - events
      summary: Get Client events
      description: |
        Retrieve list of Client events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getClientEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Client events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ClientEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeyEvents:
    get:
      tags:
        - events
      summary: Get Producer Key events
      description: |
        Retrieve list of Producer Key events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getProducerKeyEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Producer Key events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerKeyEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerKeychainEvents:
    get:
      tags:
        - events
      summary: Get Producer Keychain events
      description: |
        Retrieve list of Producer Keychain events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getProducerKeychainEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Producer Keychain events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerKeychainEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /producerDelegationEvents:
    get:
      tags:
        - events
      summary: Get Producer Delegations events
      description: |
        Retrieve list of Producer Delegation events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getProducerDelegationEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Producer Delegation events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ProducerDelegationEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
  /consumerDelegationEvents:
    get:
      tags:
        - events
      summary: Get Consumer Delegations events
      description: |
        Retrieve list of Consumer Delegation events that occurred after the specified event ID.
        Results are ordered in ascending order (oldest events first).
      operationId: getConsumerDelegationEvents
      parameters:
        - $ref: "#/components/parameters/LastEventId"
        - $ref: "#/components/parameters/EventsLimit"
      responses:
        "200":
          description: Consumer Delegation events retrieved
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ConsumerDelegationEvents"
          headers:
            X-Rate-Limit-Limit:
              $ref: "#/components/headers/RateLimitLimitHeader"
            X-Rate-Limit-Remaining:
              $ref: "#/components/headers/RateLimitRemainingHeader"
            X-Rate-Limit-Interval:
              $ref: "#/components/headers/RateLimitIntervalHeader"
        "400":
          $ref: "#/components/responses/BadRequest"
        "401":
          $ref: "#/components/responses/Unauthorized"
        "403":
          $ref: "#/components/responses/Forbidden"
        "429":
          $ref: "#/components/responses/TooManyRequests"
components:
  parameters:
    LastEventId:
      in: query
      name: lastEventId
      description: |
        ID of the last event already received.
        Only events that occurred after this ID will be returned.
        If not provided, the oldest events up to the specified limit will be returned.
      schema:
        type: string
        format: uuid
    EventsLimit:
      in: query
      name: limit
      required: true
      description: Maximum number of events to return.
      schema:
        type: integer
        format: int32
        minimum: 1
        maximum: 500
    EventsDelegationId:
      in: query
      name: delegationId
      description: |
        Filter events by delegation ID.
        - Omitted: Return all events, both for delegated and non-delegated resources.
        - Delegation UUID: Return only events for resources related to the specified delegation.
        - null: Return only events for resources accessible without delegation
            (public resources, resources accessible as consumer/producer, owned resources, etc.)
      required: false
      schema:
        type: string
        format: uuid
        nullable: true
  schemas:
    AgreementEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - AGREEMENT_ADDED
            - DRAFT_AGREEMENT_UPDATED
            - AGREEMENT_DELETED
            - AGREEMENT_ACTIVATED
            - AGREEMENT_REJECTED
            - AGREEMENT_UPGRADED
            - AGREEMENT_SUBMITTED
            - AGREEMENT_ARCHIVED_BY_CONSUMER
            - AGREEMENT_SUSPENDED_BY_CONSUMER
            - AGREEMENT_UNSUSPENDED_BY_CONSUMER
            - AGREEMENT_SUSPENDED_BY_PRODUCER
            - AGREEMENT_UNSUSPENDED_BY_PRODUCER
            - AGREEMENT_SUSPENDED_BY_PLATFORM
            - AGREEMENT_UNSUSPENDED_BY_PLATFORM
            - AGREEMENT_ARCHIVED_BY_UPGRADE
            - AGREEMENT_CONSUMER_DOCUMENT_ADDED
            - AGREEMENT_CONSUMER_DOCUMENT_REMOVED
            - AGREEMENT_ARCHIVED_BY_REVOKED_DELEGATION
            - AGREEMENT_DELETED_BY_REVOKED_DELEGATION
            - AGREEMENT_SET_MISSING_CERTIFIED_ATTRIBUTES_BY_PLATFORM
            - AGREEMENT_SET_DRAFT_BY_PLATFORM
            - AGREEMENT_CONTRACT_GENERATED
        eventTimestamp:
          type: string
          format: date-time
        agreementId:
          type: string
          format: uuid
        consumerDelegationId:
          type: string
          format: uuid
        producerDelegationId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - agreementId
    AgreementEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/AgreementEvent"
    AttributeEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - ATTRIBUTE_ADDED
        eventTimestamp:
          type: string
          format: date-time
        attributeId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - attributeId
    AttributeEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/AttributeEvent"
    PurposeEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - DRAFT_PURPOSE_DELETED
            - WAITING_FOR_APPROVAL_PURPOSE_DELETED
            - PURPOSE_DELETED_BY_REVOKED_DELEGATION
            - PURPOSE_ADDED
            - DRAFT_PURPOSE_UPDATED
            - NEW_PURPOSE_VERSION_ACTIVATED
            - NEW_PURPOSE_VERSION_WAITING_FOR_APPROVAL
            - PURPOSE_ACTIVATED
            - PURPOSE_ARCHIVED
            - PURPOSE_VERSION_OVER_QUOTA_UNSUSPENDED
            - PURPOSE_VERSION_REJECTED
            - PURPOSE_VERSION_SUSPENDED_BY_CONSUMER
            - PURPOSE_VERSION_SUSPENDED_BY_PRODUCER
            - PURPOSE_VERSION_UNSUSPENDED_BY_CONSUMER
            - PURPOSE_VERSION_UNSUSPENDED_BY_PRODUCER
            - PURPOSE_WAITING_FOR_APPROVAL
            - WAITING_FOR_APPROVAL_PURPOSE_VERSION_DELETED
            - PURPOSE_VERSION_ACTIVATED
            - PURPOSE_CLONED
            - PURPOSE_VERSION_ARCHIVED_BY_REVOKED_DELEGATION
            - RISK_ANALYSIS_DOCUMENT_GENERATED
        eventTimestamp:
          type: string
          format: date-time
        purposeId:
          type: string
          format: uuid
        purposeVersionId:
          type: string
          format: uuid
        consumerDelegationId:
          type: string
          format: uuid
        producerDelegationId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - purposeId
    PurposeEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/PurposeEvent"
    TenantEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - MAINTENANCE_TENANT_DELETED
            - TENANT_PROMOTED_TO_CERTIFIER
            - MAINTENANCE_TENANT_UPDATED
            - TENANT_CERTIFIED_ATTRIBUTE_ASSIGNED
            - TENANT_CERTIFIED_ATTRIBUTE_REVOKED
            - TENANT_DECLARED_ATTRIBUTE_ASSIGNED
            - TENANT_DECLARED_ATTRIBUTE_REVOKED
            - TENANT_DELEGATED_CONSUMER_FEATURE_ADDED
            - TENANT_DELEGATED_CONSUMER_FEATURE_REMOVED
            - TENANT_DELEGATED_PRODUCER_FEATURE_ADDED
            - TENANT_DELEGATED_PRODUCER_FEATURE_REMOVED
            - TENANT_KIND_UPDATED
            - TENANT_MAIL_ADDED
            - TENANT_MAIL_DELETED
            - TENANT_ONBOARD_DETAILS_UPDATED
            - TENANT_ONBOARDED
            - TENANT_VERIFIED_ATTRIBUTE_ASSIGNED
            - TENANT_VERIFIED_ATTRIBUTE_EXPIRATION_UPDATED
            - TENANT_VERIFIED_ATTRIBUTE_EXTENSION_UPDATED
            - TENANT_VERIFIED_ATTRIBUTE_REVOKED
        eventTimestamp:
          type: string
          format: date-time
        tenantId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - tenantId
    TenantEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/TenantEvent"
    EServiceEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - ESERVICE_ADDED
            - DRAFT_ESERVICE_UPDATED
            - ESERVICE_CLONED
            - ESERVICE_DELETED
            - ESERVICE_DESCRIPTOR_PUBLISHED
            - ESERVICE_DESCRIPTOR_ACTIVATED
            - ESERVICE_DESCRIPTOR_APPROVED_BY_DELEGATOR
            - ESERVICE_DESCRIPTOR_SUSPENDED
            - ESERVICE_DESCRIPTOR_ARCHIVED
            - ESERVICE_DESCRIPTOR_ADDED
            - ESERVICE_DRAFT_DESCRIPTOR_DELETED
            - ESERVICE_DRAFT_DESCRIPTOR_UPDATED
            - ESERVICE_DESCRIPTOR_SUBMITTED_BY_DELEGATE
            - ESERVICE_DESCRIPTOR_REJECTED_BY_DELEGATOR
            - ESERVICE_DESCRIPTOR_DOCUMENT_ADDED
            - ESERVICE_DESCRIPTOR_DOCUMENT_UPDATED
            - ESERVICE_DESCRIPTOR_DOCUMENT_DELETED
            - ESERVICE_DESCRIPTOR_INTERFACE_ADDED
            - ESERVICE_DESCRIPTOR_INTERFACE_UPDATED
            - ESERVICE_DESCRIPTOR_INTERFACE_DELETED
            - ESERVICE_RISK_ANALYSIS_ADDED
            - ESERVICE_RISK_ANALYSIS_UPDATED
            - ESERVICE_RISK_ANALYSIS_DELETED
            - ESERVICE_NAME_UPDATED
            - ESERVICE_DESCRIPTION_UPDATED
            - ESERVICE_IS_CONSUMER_DELEGABLE_ENABLED
            - ESERVICE_IS_CONSUMER_DELEGABLE_DISABLED
            - ESERVICE_IS_CLIENT_ACCESS_DELEGABLE_ENABLED
            - ESERVICE_IS_CLIENT_ACCESS_DELEGABLE_DISABLED
            - ESERVICE_SIGNAL_HUB_ENABLED
            - ESERVICE_SIGNAL_HUB_DISABLED
            - ESERVICE_DESCRIPTOR_ATTRIBUTES_UPDATED
            - ESERVICE_DESCRIPTOR_QUOTAS_UPDATED
            - ESERVICE_DESCRIPTOR_AGREEMENT_APPROVAL_POLICY_UPDATED
            - ESERVICE_PERSONAL_DATA_FLAG_UPDATED_AFTER_PUBLICATION
            - ESERVICE_NAME_UPDATED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTION_UPDATED_BY_TEMPLATE_UPDATE
            - ESERVICE_PERSONAL_DATA_FLAG_UPDATED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTOR_ATTRIBUTES_UPDATED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTOR_DOCUMENT_ADDED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTOR_DOCUMENT_DELETED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTOR_DOCUMENT_UPDATED_BY_TEMPLATE_UPDATE
            - ESERVICE_DESCRIPTOR_QUOTAS_UPDATED_BY_TEMPLATE_UPDATE
        eventTimestamp:
          type: string
          format: date-time
        eserviceId:
          type: string
          format: uuid
        descriptorId:
          type: string
          format: uuid
        producerDelegationId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - eserviceId
    EServiceEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/EServiceEvent"
    EServiceTemplateEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - ESERVICE_TEMPLATE_DELETED
            - ESERVICE_TEMPLATE_VERSION_ACTIVATED
            - ESERVICE_TEMPLATE_ADDED
            - ESERVICE_TEMPLATE_INTENDED_TARGET_UPDATED
            - ESERVICE_TEMPLATE_DESCRIPTION_UPDATED
            - ESERVICE_TEMPLATE_DRAFT_VERSION_DELETED
            - ESERVICE_TEMPLATE_DRAFT_VERSION_UPDATED
            - ESERVICE_TEMPLATE_DRAFT_UPDATED
            - ESERVICE_TEMPLATE_NAME_UPDATED
            - ESERVICE_TEMPLATE_RISK_ANALYSIS_ADDED
            - ESERVICE_TEMPLATE_RISK_ANALYSIS_DELETED
            - ESERVICE_TEMPLATE_RISK_ANALYSIS_UPDATED
            - ESERVICE_TEMPLATE_VERSION_SUSPENDED
            - ESERVICE_TEMPLATE_VERSION_ADDED
            - ESERVICE_TEMPLATE_VERSION_ATTRIBUTES_UPDATED
            - ESERVICE_TEMPLATE_VERSION_DOCUMENT_ADDED
            - ESERVICE_TEMPLATE_VERSION_DOCUMENT_DELETED
            - ESERVICE_TEMPLATE_VERSION_DOCUMENT_UPDATED
            - ESERVICE_TEMPLATE_VERSION_INTERFACE_ADDED
            - ESERVICE_TEMPLATE_VERSION_INTERFACE_DELETED
            - ESERVICE_TEMPLATE_VERSION_INTERFACE_UPDATED
            - ESERVICE_TEMPLATE_VERSION_PUBLISHED
            - ESERVICE_TEMPLATE_VERSION_QUOTAS_UPDATED
            - ESERVICE_TEMPLATE_PERSONAL_DATA_FLAG_UPDATED_AFTER_PUBLICATION
        eventTimestamp:
          type: string
          format: date-time
        eserviceTemplateId:
          type: string
          format: uuid
        eserviceTemplateVersionId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
          - eserviceTemplateId
    EServiceTemplateEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateEvent"
    KeyEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - CLIENT_KEY_ADDED
            - CLIENT_KEY_DELETED
        eventTimestamp:
          type: string
          format: date-time
        kid:
          type: string
        clientId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - kid
        - clientId
    KeyEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/KeyEvent"
    ClientEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - CLIENT_ADDED
            - CLIENT_DELETED
            - CLIENT_PURPOSE_ADDED
            - CLIENT_PURPOSE_REMOVED
        eventTimestamp:
          type: string
          format: date-time
        clientId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - clientId
    ClientEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/ClientEvent"
    ProducerKeyEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - PRODUCER_KEYCHAIN_KEY_ADDED
            - PRODUCER_KEYCHAIN_KEY_DELETED
        eventTimestamp:
          type: string
          format: date-time
        kid:
          type: string
        producerKeychainId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - kid
        - producerKeychainId
    ProducerKeyEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/ProducerKeyEvent"
    ProducerKeychainEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - PRODUCER_KEYCHAIN_ADDED
            - PRODUCER_KEYCHAIN_DELETED
            - PRODUCER_KEYCHAIN_ESERVICE_ADDED
            - PRODUCER_KEYCHAIN_ESERVICE_REMOVED
        eventTimestamp:
          type: string
          format: date-time
        producerKeychainId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - producerKeychainId
    ProducerKeychainEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/ProducerKeychainEvent"
    ConsumerDelegationEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - CONSUMER_DELEGATION_APPROVED
            - CONSUMER_DELEGATION_REVOKED
            - CONSUMER_DELEGATION_REJECTED
            - CONSUMER_DELEGATION_SUBMITTED
            - DELEGATION_CONTRACT_GENERATED
        eventTimestamp:
          type: string
          format: date-time
        delegationId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - delegationId
    ConsumerDelegationEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/ConsumerDelegationEvent"
    ProducerDelegationEvent:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eventType:
          type: string
          enum:
            - PRODUCER_DELEGATION_APPROVED
            - PRODUCER_DELEGATION_REVOKED
            - PRODUCER_DELEGATION_REJECTED
            - PRODUCER_DELEGATION_SUBMITTED
            - DELEGATION_CONTRACT_GENERATED
        eventTimestamp:
          type: string
          format: date-time
        delegationId:
          type: string
          format: uuid
      required:
        - id
        - eventType
        - eventTimestamp
        - delegationId
    ProducerDelegationEvents:
      type: object
      additionalProperties: false
      required:
        - events
      properties:
        events:
          type: array
          items:
            $ref: "#/components/schemas/ProducerDelegationEvent"
    Agreement:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eserviceId:
          type: string
          format: uuid
        descriptorId:
          type: string
          format: uuid
        producerId:
          type: string
          format: uuid
        consumerId:
          type: string
          format: uuid
        delegationId:
          type: string
          format: uuid
        state:
          $ref: "#/components/schemas/AgreementState"
        suspendedByConsumer:
          type: boolean
        suspendedByProducer:
          type: boolean
        suspendedByPlatform:
          type: boolean
        consumerNotes:
          type: string
        rejectionReason:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        suspendedAt:
          type: string
          format: date-time
      required:
        - id
        - eserviceId
        - descriptorId
        - producerId
        - consumerId
        - state
        - createdAt
    AgreementApprovalPolicy:
      type: string
      description: E-Service Descriptor policy for new Agreements approval
      enum:
        - AUTOMATIC
        - MANUAL
    AgreementApprovalPolicyNullable:
      type: string
      description: E-Service Descriptor policy for new Agreements approval
      nullable: true
      enum:
        - AUTOMATIC
        - MANUAL
    Agreements:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/Agreement"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    AgreementSeed:
      type: object
      additionalProperties: false
      description: Contains the information for agreement creation
      properties:
        eserviceId:
          type: string
          format: uuid
        descriptorId:
          type: string
          format: uuid
        delegationId:
          type: string
          format: uuid
      required:
        - eserviceId
        - descriptorId
    AgreementState:
      type: string
      description: Agreement State
      enum:
        - DRAFT
        - ACTIVE
        - ARCHIVED
        - PENDING
        - SUSPENDED
        - MISSING_CERTIFIED_ATTRIBUTES
        - REJECTED
    AgreementRejection:
      type: object
      additionalProperties: false
      description: contains the information for agreement rejection
      properties:
        reason:
          type: string
          minLength: 20
          maxLength: 1000
      required:
        - reason
    AgreementSubmission:
      type: object
      additionalProperties: false
      description: contains the information for agreement submission
      properties:
        consumerNotes:
          type: string
          maxLength: 1000
    CertifiedAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        code:
          type: string
          description: The identifier of the attribute on the source registry
        description:
          type: string
        origin:
          type: string
          description: Identifier of the origin of this attribute, e.g. "IPA"
        name:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - name
        - description
        - code
        - origin
        - createdAt
    EServiceDescriptorCertifiedAttribute:
      type: object
      description: Represents an E-Service Descriptor Certified attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/CertifiedAttribute"
      required:
        - groupIndex
        - attribute
    EServiceTemplateVersionCertifiedAttribute:
      type: object
      description: Represents an E-Service Template Version Certified attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/CertifiedAttribute"
      required:
        - groupIndex
        - attribute
    EServiceDescriptorDeclaredAttribute:
      type: object
      description: Represents an E-Service Descriptor Declared attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/DeclaredAttribute"
      required:
        - groupIndex
        - attribute
    EServiceTemplateVersionDeclaredAttribute:
      type: object
      description: Represents an E-Service Template Version Declared attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/DeclaredAttribute"
      required:
        - groupIndex
        - attribute
    EServiceDescriptorVerifiedAttribute:
      type: object
      description: Represents an E-Service Descriptor Verified attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/VerifiedAttribute"
      required:
        - groupIndex
        - attribute
    EServiceTemplateVersionVerifiedAttribute:
      type: object
      description: Represents an E-Service Template Version Verified attribute with the index of its attribute group.
      properties:
        groupIndex:
          type: integer
          format: int32
          minimum: 0
          description: The index of the group to which the attribute belongs.
        attribute:
          $ref: "#/components/schemas/VerifiedAttribute"
      required:
        - groupIndex
        - attribute
    EServiceDescriptorAttributesGroupSeed:
      type: object
      additionalProperties: false
      properties:
        attributeIds:
          type: array
          items:
            type: string
            format: uuid
      required:
        - attributeIds
    DeclaredAttributeSeed:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          minLength: 10
          maxLength: 500
      required:
        - description
        - name
    CertifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/CertifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceDescriptorCertifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorCertifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateVersionCertifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionCertifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceDescriptorCertifiedAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorCertifiedAttribute"
      required:
        - attributes
    EServiceTemplateVersionCertifiedAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionCertifiedAttribute"
      required:
        - attributes
    EServiceDescriptorDeclaredAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorDeclaredAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateVersionDeclaredAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionDeclaredAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceDescriptorDeclaredAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorDeclaredAttribute"
      required:
        - attributes
    EServiceTemplateVersionDeclaredAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionDeclaredAttribute"
      required:
        - attributes
    EServiceDescriptorVerifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorVerifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateVersionVerifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionVerifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceDescriptorVerifiedAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptorVerifiedAttribute"
      required:
        - attributes
    EServiceTemplateVersionVerifiedAttributesGroup:
      type: object
      additionalProperties: false
      properties:
        attributes:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersionVerifiedAttribute"
      required:
        - attributes
    EServiceTemplateVersionAttributesGroupSeed:
      type: object
      additionalProperties: false
      properties:
        attributeIds:
          type: array
          items:
            type: string
            format: uuid
      required:
        - attributeIds
    CertifiedAttributeSeed:
      type: object
      additionalProperties: false
      description: Models the attribute registry entry as payload response
      properties:
        name:
          type: string
          minLength: 1
          maxLength: 500
        description:
          type: string
          minLength: 1
          maxLength: 500
        code:
          type: string
          minLength: 1
          maxLength: 64
          description: The identifier of the attribute on the source registry
      required:
        - description
        - name
        - code
    DeclaredAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        description:
          type: string
        name:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - name
        - description
        - createdAt
    DeclaredAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/DeclaredAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    VerifiedAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        description:
          type: string
        name:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - name
        - description
        - createdAt
    VerifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/VerifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    VerifiedAttributeSeed:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          minLength: 3
          maxLength: 100
        description:
          type: string
          minLength: 10
          maxLength: 500
      required:
        - description
        - name
    Client:
      description: |
        Models a Client with field visibility based on the requester's permissions.
        Only the Client owner has access to all fields.
      oneOf:
        - $ref: "#/components/schemas/FullClient"
        - $ref: "#/components/schemas/PartialClient"
    PartialClient:
      type: object
      description: Models a Client with restricted field visibility
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        consumerId:
          description: Tenant ID of the Client owner
          type: string
          format: uuid
      required:
        - id
        - consumerId
    FullClient:
      type: object
      description: Models a Client with unrestricted field visibility
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        consumerId:
          description: Tenant ID of the Client owner
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - consumerId
        - name
        - createdAt
    Clients:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/Client"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    ClientAddPurpose:
      type: object
      additionalProperties: false
      properties:
        purposeId:
          type: string
          format: uuid
      required:
        - purposeId
    ProducerKeychain:
      description: |
        Models a Producer Keychain with field visibility based on the requester's permissions.
        Only the Producer Keychain owner has access to all fields.
      oneOf:
        - $ref: "#/components/schemas/FullProducerKeychain"
        - $ref: "#/components/schemas/PartialProducerKeychain"
    PartialProducerKeychain:
      type: object
      description: Models a Producer Keychain with restricted field visibility
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        producerId:
          description: Tenant ID of the Producer Keychain owner
          type: string
          format: uuid
      required:
        - id
        - producerId
    FullProducerKeychain:
      type: object
      description: Models a Producer Keychain with unrestricted field visibility
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        producerId:
          description: Tenant ID of the Producer Keychain owner
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        createdAt:
          type: string
          format: date-time
      required:
        - id
        - producerId
        - name
        - createdAt
    ProducerKeychains:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/ProducerKeychain"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    ProducerKeychainAddEService:
      type: object
      additionalProperties: false
      properties:
        eserviceId:
          type: string
          format: uuid
      required:
        - eserviceId
    ProducerDelegation:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        delegatorId:
          type: string
          format: uuid
        delegateId:
          type: string
          format: uuid
        eserviceId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        rejectionReason:
          type: string
        revokedAt:
          type: string
          format: date-time
        submittedAt:
          type: string
          format: date-time
        activatedAt:
          type: string
          format: date-time
        rejectedAt:
          type: string
          format: date-time
        state:
          $ref: "#/components/schemas/DelegationState"
      required:
        - id
        - delegatorId
        - delegateId
        - eserviceId
        - createdAt
        - state
        - submittedAt
    ProducerDelegations:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/ProducerDelegation"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    ConsumerDelegation:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        delegatorId:
          type: string
          format: uuid
        delegateId:
          type: string
          format: uuid
        eserviceId:
          type: string
          format: uuid
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        rejectionReason:
          type: string
        revokedAt:
          type: string
          format: date-time
        submittedAt:
          type: string
          format: date-time
        activatedAt:
          type: string
          format: date-time
        rejectedAt:
          type: string
          format: date-time
        state:
          $ref: "#/components/schemas/DelegationState"
      required:
        - id
        - delegatorId
        - delegateId
        - eserviceId
        - createdAt
        - state
        - submittedAt
    ConsumerDelegations:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/ConsumerDelegation"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    DelegationState:
      type: string
      enum:
        - WAITING_FOR_APPROVAL
        - ACTIVE
        - REJECTED
        - REVOKED
    DelegationRejection:
      type: object
      additionalProperties: false
      properties:
        rejectionReason:
          type: string
      required:
        - rejectionReason
    DelegationSeed:
      type: object
      additionalProperties: false
      properties:
        eserviceId:
          type: string
          format: uuid
        delegateId:
          type: string
          format: uuid
      required:
        - eserviceId
        - delegateId
    EService:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        producerId:
          type: string
          format: uuid
        name:
          type: string
        description:
          type: string
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        isSignalHubEnabled:
          type: boolean
        isConsumerDelegable:
          type: boolean
        isClientAccessDelegable:
          type: boolean
        templateId:
          type: string
          format: uuid
        personalData:
          type: boolean
      required:
        - id
        - producerId
        - name
        - description
        - technology
        - descriptors
        - mode
    EServiceDraftUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        isSignalHubEnabled:
          type: boolean
        isConsumerDelegable:
          type: boolean
        isClientAccessDelegable:
          type: boolean
        personalData:
          type: boolean
          nullable: true
    EServiceDescriptor:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        version:
          type: string
        description:
          type: string
        audience:
          type: array
          items:
            type: string
        voucherLifespan:
          type: integer
          format: int32
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        state:
          $ref: "#/components/schemas/EServiceDescriptorState"
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
        serverUrls:
          type: array
          items:
            type: string
        publishedAt:
          type: string
          format: date-time
        suspendedAt:
          type: string
          format: date-time
        deprecatedAt:
          type: string
          format: date-time
        archivedAt:
          type: string
          format: date-time
        templateVersionId:
          type: string
          format: uuid
      required:
        - id
        - version
        - docs
        - state
        - creationDate
        - audience
        - voucherLifespan
        - dailyCallsPerConsumer
        - dailyCallsTotal
        - agreementApprovalPolicy
        - serverUrls
    EServiceDescriptors:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceDescriptor"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceDescriptorState:
      type: string
      description: E-Service Descriptor State
      enum:
        - DRAFT
        - PUBLISHED
        - DEPRECATED
        - SUSPENDED
        - ARCHIVED
        - WAITING_FOR_APPROVAL
    EServiceDescriptorSeed:
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        audience:
          type: array
          minItems: 1
          maxItems: 1
          items:
            type: string
            minLength: 0
            maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
      required:
        - audience
        - voucherLifespan
        - dailyCallsPerConsumer
        - dailyCallsTotal
        - agreementApprovalPolicy
    EServiceDescriptorDraftUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        audience:
          type: array
          minItems: 1
          maxItems: 1
          items:
            type: string
            minLength: 1
            maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this Descriptor can afford
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
    EServiceDescriptorQuotasUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    EServiceMode:
      type: string
      description: Indicates if the E-Service is intended for receiving or delivering data
      enum:
        - RECEIVE
        - DELIVER
    EServices:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EService"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTechnology:
      type: string
      description: API Technology
      enum:
        - REST
        - SOAP
    RejectDelegatedEServiceDescriptorSeed:
      type: object
      additionalProperties: false
      properties:
        rejectionReason:
          type: string
      required:
        - rejectionReason
    EServiceTemplates:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplate"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplate:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        creatorId:
          type: string
          format: uuid
          description: The ID of the tenant that created the E-Service Template
        name:
          type: string
        intendedTarget:
          type: string
        description:
          type: string
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        isSignalHubEnabled:
          type: boolean
        personalData:
          type: boolean
      required:
        - id
        - creatorId
        - name
        - intendedTarget
        - description
        - technology
        - mode
    EServiceTemplateDescriptionUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
      required:
        - description
    EServiceTemplateIntendedTargetUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        intendedTarget:
          type: string
          minLength: 10
          maxLength: 250
      required:
        - intendedTarget
    EServiceTemplateNameUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
      required:
        - name
    EServiceTemplateVersion:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        version:
          type: integer
          format: int32
        description:
          type: string
        voucherLifespan:
          type: integer
          format: int32
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        state:
          $ref: "#/components/schemas/EServiceTemplateVersionState"
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
        publishedAt:
          type: string
          format: date-time
        suspendedAt:
          type: string
          format: date-time
        deprecatedAt:
          type: string
          format: date-time
      required:
        - id
        - version
        - state
        - creationDate
        - voucherLifespan
    EServiceTemplateVersionState:
      type: string
      description: E-Service Template Version State
      enum:
        - DRAFT
        - PUBLISHED
        - DEPRECATED
        - SUSPENDED
    EServiceTemplateVersions:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateVersion"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateSeed:
      type: object
      additionalProperties: false
      required:
        - name
        - intendedTarget
        - description
        - technology
        - mode
        - version
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
        intendedTarget:
          type: string
          minLength: 10
          maxLength: 250
        description:
          type: string
          minLength: 10
          maxLength: 250
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        version:
          $ref: "#/components/schemas/VersionSeedForEServiceTemplateCreation"
        isSignalHubEnabled:
          type: boolean
    VersionSeedForEServiceTemplateCreation:
      required:
        - voucherLifespan
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this e-service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
    EServiceTemplateVersionQuotasUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    EServiceTemplateDraftUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
        intendedTarget:
          type: string
          minLength: 10
          maxLength: 250
        description:
          type: string
          minLength: 10
          maxLength: 250
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        isSignalHubEnabled:
          type: boolean
        personalData:
          type: boolean
          nullable: true
    EServiceTemplateVersionSeed:
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford per consumer
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        dailyCallsTotal:
          description: Total daily calls available for this E-Service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
      required:
        - voucherLifespan
    EServiceTemplateVersionDraftUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
          nullable: true
        dailyCallsTotal:
          description: Total daily calls available for this e-service
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
          nullable: true
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicyNullable"
    EServiceSeed:
      type: object
      additionalProperties: false
      required:
        - name
        - description
        - technology
        - mode
        - descriptor
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        technology:
          $ref: "#/components/schemas/EServiceTechnology"
        mode:
          $ref: "#/components/schemas/EServiceMode"
        descriptor:
          $ref: "#/components/schemas/DescriptorSeedForEServiceCreation"
        isSignalHubEnabled:
          type: boolean
        isConsumerDelegable:
          type: boolean
        isClientAccessDelegable:
          type: boolean
        personalData:
          type: boolean
    EServiceNameUpdateSeed:
      type: object
      additionalProperties: false
      required:
        - name
      properties:
        name:
          type: string
          minLength: 5
          maxLength: 60
    EServiceDelegationUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        isConsumerDelegable:
          type: boolean
        isClientAccessDelegable:
          type: boolean
    EServiceDescriptionUpdateSeed:
      type: object
      additionalProperties: false
      required:
        - description
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
    EServiceSignalHubUpdateSeed:
      type: object
      additionalProperties: false
      required:
        - isSignalHubEnabled
      properties:
        isSignalHubEnabled:
          type: boolean
    DescriptorSeedForEServiceCreation:
      required:
        - audience
        - voucherLifespan
        - dailyCallsPerConsumer
        - dailyCallsTotal
        - agreementApprovalPolicy
      type: object
      additionalProperties: false
      properties:
        description:
          type: string
          minLength: 10
          maxLength: 250
        audience:
          type: array
          minItems: 1
          maxItems: 1
          items:
            type: string
            minLength: 0
            maxLength: 250
        voucherLifespan:
          type: integer
          format: int32
          minimum: 60
          maximum: 86400
        dailyCallsPerConsumer:
          description: Maximum number of daily calls that this descriptor can afford
          type: integer
          format: int32
          minimum: 1
        dailyCallsTotal:
          description: Total daily calls available for this e-service
          type: integer
          format: int32
          minimum: 1
        agreementApprovalPolicy:
          $ref: "#/components/schemas/AgreementApprovalPolicy"
    JWK:
      description: JSON Web Key
      type: object
      additionalProperties: false
      properties:
        kty:
          type: string
        key_ops:
          type: array
          items:
            type: string
        use:
          type: string
        alg:
          type: string
        kid:
          type: string
        x5u:
          type: string
          minLength: 1
        x5t:
          type: string
        "x5t#S256":
          type: string
        x5c:
          type: array
          items:
            type: string
        crv:
          type: string
        x:
          type: string
        "y":
          type: string
        d:
          type: string
        k:
          type: string
        "n":
          type: string
        e:
          type: string
        p:
          type: string
        q:
          type: string
        dp:
          type: string
        dq:
          type: string
        qi:
          type: string
        oth:
          uniqueItems: false
          minItems: 1
          type: array
          items:
            $ref: "#/components/schemas/OtherPrimeInfo"
      required:
        - kty
        - kid
    OtherPrimeInfo:
      type: object
      additionalProperties: false
      properties:
        r:
          type: string
        d:
          type: string
        t:
          type: string
      required:
        - r
        - d
        - t
    JWKs:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/JWK"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    Key:
      description: Key
      type: object
      additionalProperties: false
      properties:
        clientId:
          type: string
          format: uuid
        jwk:
          $ref: "#/components/schemas/JWK"
      required:
        - clientId
        - jwk
    ProducerKey:
      description: Key
      type: object
      additionalProperties: false
      properties:
        producerKeychainId:
          type: string
          format: uuid
        jwk:
          $ref: "#/components/schemas/JWK"
      required:
        - producerKeychainId
        - jwk
    Pagination:
      type: object
      additionalProperties: false
      properties:
        offset:
          type: integer
          format: int32
          minimum: 0
        limit:
          type: integer
          format: int32
          minimum: 1
          maximum: 50
        totalCount:
          type: integer
          format: int32
          minimum: 0
      required:
        - offset
        - limit
        - totalCount
    ExternalId:
      properties:
        origin:
          type: string
          minLength: 3
          maxLength: 64
        value:
          type: string
      required:
        - origin
        - value
    Purpose:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        eserviceId:
          type: string
          format: uuid
        consumerId:
          type: string
          format: uuid
        suspendedByConsumer:
          type: boolean
        suspendedByProducer:
          type: boolean
        title:
          type: string
        description:
          type: string
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        isRiskAnalysisValid:
          type: boolean
        isFreeOfCharge:
          type: boolean
        freeOfChargeReason:
          type: string
        delegationId:
          type: string
          format: uuid
        currentVersion:
          $ref: "#/components/schemas/PurposeVersion"
        waitingForApprovalVersion:
          $ref: "#/components/schemas/PurposeVersion"
        rejectedVersion:
          $ref: "#/components/schemas/PurposeVersion"
        purposeTemplateId:
          type: string
          format: uuid
      required:
        - id
        - eserviceId
        - consumerId
        - title
        - description
        - createdAt
        - isRiskAnalysisValid
        - isFreeOfCharge
    PurposeSeed:
      type: object
      additionalProperties: false
      description: contains the expected payload for purpose creation
      properties:
        eserviceId:
          type: string
          format: uuid
        delegationId:
          description: |
            Set it to create the Purpose for a Tenant for which you are the e-service consumer delegate.
            If not set, the Purpose will be created for your Tenant.
          type: string
          format: uuid
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
        title:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        isFreeOfCharge:
          type: boolean
        freeOfChargeReason:
          type: string
        dailyCalls:
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
      required:
        - eserviceId
        - title
        - description
        - isFreeOfCharge
        - dailyCalls
    PurposeFromTemplateSeed:
      type: object
      additionalProperties: false
      description: contains the expected payload for purpose creation from a purpose template
      properties:
        eserviceId:
          type: string
          format: uuid
        delegationId:
          description: |
            Set it to create the Purpose for a Tenant for which you are the e-service consumer delegate.
            If not set, the Purpose will be created for your Tenant.
          type: string
          format: uuid
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
        title:
          type: string
        dailyCalls:
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
      required:
        - eserviceId
        - title
        - dailyCalls
    ReversePurposeSeed:
      type: object
      additionalProperties: false
      description: contains the expected payload for reverse purpose creation
      properties:
        eserviceId:
          type: string
          format: uuid
        delegationId:
          description: |
            Set it to create the Purpose for a Tenant for which you are the e-service consumer delegate.
            If not set, the Purpose will be created for your Tenant.
          type: string
          format: uuid
        riskAnalysisId:
          type: string
          format: uuid
        title:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        isFreeOfCharge:
          type: boolean
        freeOfChargeReason:
          type: string
        dailyCalls:
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
      required:
        - eserviceId
        - title
        - riskAnalysisId
        - description
        - isFreeOfCharge
        - dailyCalls
    Purposes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/Purpose"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    PurposeVersion:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        state:
          $ref: "#/components/schemas/PurposeVersionState"
        createdAt:
          type: string
          format: date-time
        suspendedAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        firstActivationAt:
          type: string
          format: date-time
        dailyCalls:
          description: Maximum number of daily calls performed using this version
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        rejectionReason:
          type: string
      required:
        - id
        - state
        - dailyCalls
        - createdAt
      description: business representation of a purpose version
    PurposeVersions:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/PurposeVersion"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    PurposeVersionSeed:
      type: object
      additionalProperties: false
      required:
        - dailyCalls
      properties:
        dailyCalls:
          description: Maximum number of daily calls performed using this version
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    PurposeVersionState:
      type: string
      description: Purpose State
      enum:
        - ACTIVE
        - DRAFT
        - SUSPENDED
        - WAITING_FOR_APPROVAL
        - ARCHIVED
        - REJECTED
    PurposeDraftUpdateSeed:
      type: object
      additionalProperties: false
      description: Contains the expected payload for purpose update of a purpose not created from a purpose template
      properties:
        title:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        isFreeOfCharge:
          type: boolean
        freeOfChargeReason:
          type: string
          nullable: true
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
        dailyCalls:
          description: Maximum number of daily calls that this version can perform.
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    PurposeDraftFromTemplateUpdateSeed:
      type: object
      additionalProperties: false
      description: Contains the expected payload for purpose update of a purpose created from a purpose template
      properties:
        title:
          type: string
          minLength: 5
          maxLength: 60
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
        dailyCalls:
          description: Maximum number of daily calls that this version can perform.
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    ReversePurposeDraftUpdateSeed:
      type: object
      additionalProperties: false
      description: Contains the expected payload for purpose update
      properties:
        title:
          type: string
          minLength: 5
          maxLength: 60
        description:
          type: string
          minLength: 10
          maxLength: 250
        isFreeOfCharge:
          type: boolean
        freeOfChargeReason:
          type: string
          nullable: true
        dailyCalls:
          description: Maximum number of daily calls that this version can perform.
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
    RiskAnalysisFormSeed:
      type: object
      additionalProperties: false
      properties:
        version:
          type: string
          minLength: 1
          maxLength: 250
        answers:
          description: |
            Key-value pairs of risk analysis form answers.
            Key: question ID; value: array of answers.
          additionalProperties:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 2000
      required:
        - version
        - answers
    RiskAnalysisForm:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        version:
          type: string
          minLength: 1
          maxLength: 250
        answers:
          description: |
            Key-value pairs of risk analysis form answers.
            Key: question ID; value: array of answers
          additionalProperties:
            type: array
            items:
              type: string
              minLength: 1
              maxLength: 2000
      required:
        - version
        - answers
    PurposeTemplateLinkEService:
      type: object
      additionalProperties: false
      properties:
        eserviceId:
          type: string
          format: uuid
      required:
        - eserviceId
    EServiceRiskAnalysisSeed:
      type: object
      additionalProperties: false
      required:
        - name
        - riskAnalysisForm
      properties:
        name:
          type: string
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
    EServiceRiskAnalysis:
      type: object
      additionalProperties: false
      required:
        - id
        - name
        - riskAnalysisForm
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisForm"
        createdAt:
          type: string
          format: date-time
    EServiceRiskAnalyses:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceRiskAnalysis"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateRiskAnalyses:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/EServiceTemplateRiskAnalysis"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    EServiceTemplateRiskAnalysisSeed:
      type: object
      additionalProperties: false
      required:
        - name
        - riskAnalysisForm
        - tenantKind
      properties:
        name:
          type: string
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisFormSeed"
        tenantKind:
          $ref: "#/components/schemas/TenantKind"
    EServiceTemplateRiskAnalysis:
      type: object
      additionalProperties: false
      required:
        - id
        - name
        - riskAnalysisForm
        - tenantKind
        - createdAt
      properties:
        id:
          type: string
          format: uuid
        name:
          type: string
        riskAnalysisForm:
          $ref: "#/components/schemas/RiskAnalysisForm"
        tenantKind:
          $ref: "#/components/schemas/TenantKind"
        createdAt:
          type: string
          format: date-time
    Tenant:
      description: Tenant model
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        externalId:
          $ref: "#/components/schemas/ExternalId"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        name:
          type: string
        kind:
          $ref: "#/components/schemas/TenantKind"
        onboardedAt:
          type: string
          format: date-time
        subUnitType:
          $ref: "#/components/schemas/TenantSubUnitType"
      required:
        - id
        - certifier
        - externalId
        - attributes
        - createdAt
        - mails
        - name
    TargetTenantKind:
      type: string
      description: The Target Tenant Kind of a Purpose Template
      enum:
        - PA
        - PRIVATE
    TenantKind:
      type: string
      enum:
        - PA
        - PRIVATE
        - GSP
        - SCP
    Tenants:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/Tenant"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    TenantSubUnitType:
      type: string
      enum:
        - AOO
        - UO
    TenantVerifiedAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        assignedAt:
          type: string
          format: date-time
      required:
        - id
        - assignedAt
    TenantVerifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/TenantVerifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    TenantVerifiedAttributeSeed:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        agreementId:
          type: string
          format: uuid
        expirationDate:
          type: string
          format: date-time
      required:
        - id
        - agreementId
    TenantCertifiedAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        assignedAt:
          type: string
          format: date-time
        revokedAt:
          type: string
          format: date-time
      required:
        - id
        - assignedAt
    TenantCertifiedAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/TenantCertifiedAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    TenantCertifiedAttributeSeed:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
      required:
        - id
    TenantDeclaredAttribute:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        assignedAt:
          type: string
          format: date-time
        revokedAt:
          type: string
          format: date-time
        delegationId:
          type: string
          format: uuid
      required:
        - id
        - assignedAt
    TenantDeclaredAttributes:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/TenantDeclaredAttribute"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    TenantDeclaredAttributeSeed:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        delegationId:
          type: string
          format: uuid
      required:
        - id
    TenantVerifiedAttributeVerifier:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        verifiedAt:
          type: string
          format: date-time
        expiresAt:
          type: string
          format: date-time
        extendedAt:
          type: string
          format: date-time
        delegationId:
          type: string
          format: uuid
      required:
        - id
        - verifiedAt
    TenantVerifiedAttributeVerifiers:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/TenantVerifiedAttributeVerifier"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    TenantVerifiedAttributeRevoker:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        verifiedAt:
          type: string
          format: date-time
        expiresAt:
          type: string
          format: date-time
        extendedAt:
          type: string
          format: date-time
        revokedAt:
          type: string
          format: date-time
        delegationId:
          type: string
          format: uuid
      required:
        - id
        - verifiedAt
        - revokedAt
    TenantVerifiedAttributeRevokers:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/TenantVerifiedAttributeRevoker"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    FileDownloadMultipart:
      type: object
      additionalProperties: false
      required:
        - file
        - filename
        - contentType
        - id
      properties:
        file:
          type: string
          format: binary
          description: The file to download
        filename:
          type: string
          description: The name of the file
        contentType:
          type: string
          description: The content type of the file
        id:
          type: string
          format: uuid
          description: Unique identifier of the file
        prettyName:
          type: string
          description: A human-readable name for the file
    FileUploadMultipart:
      type: object
      additionalProperties: false
      required:
        - file
        - prettyName
      properties:
        file:
          type: string
          format: binary
          description: The file to upload
        prettyName:
          type: string
          description: A human-readable name for the file
    RiskAnalysisTemplateAnnotationDocumentUploadMultipart:
      type: object
      additionalProperties: false
      required:
        - file
        - prettyName
        - answerId
      properties:
        file:
          type: string
          format: binary
          description: The file to upload
        prettyName:
          type: string
          description: A human-readable name for the file
        answerId:
          type: string
          description: The ID of the answer containing the annotation
    Documents:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/Document"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    Document:
      type: object
      additionalProperties: false
      required:
        - id
        - name
        - prettyName
        - contentType
        - createdAt
      properties:
        id:
          type: string
          format: uuid
          description: Unique identifier of the file
        name:
          type: string
          description: The name of the file
        prettyName:
          type: string
          description: A human-readable name for the file
        contentType:
          type: string
          description: The content type of the file
        createdAt:
          type: string
          format: date-time
          description: The date and time when the file was uploaded
    DelegationRef:
      type: object
      additionalProperties: false
      description: Set the delegation ID in order to operate as a delegate for an active producer or consumer delegation
      properties:
        delegationId:
          type: string
          format: uuid
    PurposeTemplates:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/PurposeTemplate"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    PurposeTemplate:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        targetDescription:
          type: string
        targetTenantKind:
          $ref: "#/components/schemas/TargetTenantKind"
        creatorId:
          type: string
          format: uuid
          description: The ID of the Tenant that created the Purpose Template
        state:
          $ref: "#/components/schemas/PurposeTemplateState"
        createdAt:
          type: string
          format: date-time
        updatedAt:
          type: string
          format: date-time
        purposeTitle:
          type: string
        purposeDescription:
          type: string
        purposeIsFreeOfCharge:
          type: boolean
        purposeFreeOfChargeReason:
          type: string
        purposeDailyCalls:
          description: Maximum number of daily calls that the purpose can perform
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        handlesPersonalData:
          type: boolean
      required:
        - id
        - targetDescription
        - targetTenantKind
        - creatorId
        - state
        - createdAt
        - purposeTitle
        - purposeDescription
        - purposeIsFreeOfCharge
        - handlesPersonalData
    PurposeTemplateSeed:
      type: object
      additionalProperties: false
      description: contains the expected payload for purpose template creation
      properties:
        targetDescription:
          type: string
          minLength: 10
          maxLength: 250
        targetTenantKind:
          $ref: "#/components/schemas/TargetTenantKind"
        purposeTitle:
          type: string
          minLength: 5
          maxLength: 60
        purposeDescription:
          type: string
          minLength: 10
          maxLength: 250
        purposeIsFreeOfCharge:
          type: boolean
        purposeFreeOfChargeReason:
          type: string
        purposeDailyCalls:
          description: Maximum number of daily calls that the purpose can perform
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
        handlesPersonalData:
          type: boolean
      required:
        - targetDescription
        - targetTenantKind
        - purposeTitle
        - purposeDescription
        - purposeIsFreeOfCharge
        - handlesPersonalData
    PurposeTemplateDraftUpdateSeed:
      type: object
      additionalProperties: false
      properties:
        targetDescription:
          type: string
          minLength: 10
          maxLength: 250
        targetTenantKind:
          $ref: "#/components/schemas/TargetTenantKind"
        purposeTitle:
          type: string
          minLength: 5
          maxLength: 60
        purposeDescription:
          type: string
          minLength: 10
          maxLength: 250
        purposeIsFreeOfCharge:
          type: boolean
        purposeFreeOfChargeReason:
          type: string
          nullable: true
        purposeDailyCalls:
          type: integer
          format: int32
          minimum: 1
          maximum: 1000000000
          nullable: true
        handlesPersonalData:
          type: boolean
    RiskAnalysisFormTemplate:
      type: object
      additionalProperties: false
      properties:
        version:
          type: string
          minLength: 1
          maxLength: 250
        answers:
          description: |
            Key-value pairs of risk analysis form template answers.
            Key: question ID; value: template of the answer
          additionalProperties:
            $ref: "#/components/schemas/RiskAnalysisTemplateAnswer"
      required:
        - version
        - answers
    RiskAnalysisTemplateAnswer:
      type: object
      additionalProperties: false
      properties:
        id:
          type: string
          format: uuid
        values:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 2000
        editable:
          type: boolean
        annotationText:
          type: string
          minLength: 1
          maxLength: 2000
        suggestedValues:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 250
      required:
        - id
        - values
        - editable
        - suggestedValues
    RiskAnalysisFormTemplateSeed:
      type: object
      additionalProperties: false
      properties:
        version:
          type: string
          minLength: 1
          maxLength: 250
        answers:
          description: |
            Key-value pairs of risk analysis form template answers.
            Key: question ID; value: template of the answer
          additionalProperties:
            $ref: "#/components/schemas/RiskAnalysisTemplateAnswerSeed"
      required:
        - version
        - answers
    RiskAnalysisTemplateAnswerSeed:
      type: object
      additionalProperties: false
      properties:
        values:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 2000
        editable:
          type: boolean
        annotationText:
          type: string
          minLength: 1
          maxLength: 2000
        suggestedValues:
          type: array
          items:
            type: string
            minLength: 1
            maxLength: 250
      required:
        - values
        - editable
        - suggestedValues
    PurposeTemplateState:
      type: string
      description: Purpose Template State
      enum:
        - PUBLISHED
        - DRAFT
        - SUSPENDED
        - ARCHIVED
    RiskAnalysisTemplateAnnotationDocuments:
      type: object
      additionalProperties: false
      properties:
        results:
          type: array
          items:
            $ref: "#/components/schemas/RiskAnalysisTemplateAnnotationDocument"
        pagination:
          $ref: "#/components/schemas/Pagination"
      required:
        - results
        - pagination
    RiskAnalysisTemplateAnnotationDocument:
      type: object
      additionalProperties: false
      properties:
        document:
          $ref: "#/components/schemas/Document"
        answerId:
          type: string
          format: uuid
      required:
        - document
        - answerId
    Problem:
      properties:
        type:
          description: URI reference of type definition
          type: string
        status:
          description: The HTTP status code generated by the origin server for this occurrence of the problem
          example: 503
          exclusiveMaximum: true
          format: int32
          maximum: 600
          minimum: 100
          type: integer
        title:
          description: A short, summary of the problem type. Written in english and readable
          example: Service Unavailable
          maxLength: 64
          pattern: "^[ -~]{0,64}$"
          type: string
        correlationId:
          description: Unique identifier of the request
          example: "53af4f2d-0c87-41ef-a645-b726a821852b"
          maxLength: 64
          type: string
        detail:
          description: A human readable explanation of the problem
          example: Request took too long to complete
          maxLength: 4096
          pattern: "^.{0,1024}$"
          type: string
        errors:
          type: array
          minItems: 1
          items:
            $ref: "#/components/schemas/ProblemError"
      additionalProperties: false
      required:
        - type
        - status
        - title
        - errors
    ProblemError:
      properties:
        code:
          description: Internal code of the error
          example: 123-4567
          minLength: 8
          maxLength: 8
          pattern: "^[0-9]{3}-[0-9]{4}$"
          type: string
        detail:
          description: A human readable explanation specific to this occurrence of the problem
          example: Parameter not valid
          maxLength: 4096
          pattern: "^.{0,1024}$"
          type: string
      required:
        - code
        - detail
  responses:
    TooManyRequests:
      description: Too Many Requests
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
    BadRequest:
      description: Bad Request
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
    Unauthorized:
      description: Unauthorized
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
    Forbidden:
      description: Forbidden
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
    NotFound:
      description: Not Found
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
    Conflict:
      description: Conflict
      content:
        application/problem+json:
          schema:
            $ref: "#/components/schemas/Problem"
      headers:
        X-Rate-Limit-Limit:
          $ref: "#/components/headers/RateLimitLimitHeader"
        X-Rate-Limit-Remaining:
          $ref: "#/components/headers/RateLimitRemainingHeader"
        X-Rate-Limit-Interval:
          $ref: "#/components/headers/RateLimitIntervalHeader"
  headers:
    RateLimitLimitHeader:
      schema:
        type: integer
        format: int32
        minimum: 0
      description: Max allowed requests within time interval
    RateLimitRemainingHeader:
      schema:
        type: integer
        format: int32
        minimum: 0
      description: Remaining requests within time interval
    RateLimitIntervalHeader:
      schema:
        type: integer
        format: int32
        minimum: 0
      description: Time interval in milliseconds. Allowed requests will be constantly replenished during the interval. At the end of the interval the max allowed requests will be available
  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
